<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 API | Sen2Cube.at Manual</title>
  <meta name="description" content="9 API | Sen2Cube.at Manual" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="9 API | Sen2Cube.at Manual" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="whisperingpixel/iq-manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 API | Sen2Cube.at Manual" />
  
  
  



<meta name="date" content="2021-09-27" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="error-codes.html"/>
<link rel="next" href="contact.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Sen2Cube.at Manual</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#use-cases"><i class="fa fa-check"></i><b>1.2</b> Use cases</a><ul>
<li class="chapter" data-level="1.2.1" data-path="index.html"><a href="index.html#semantic-content-based-image-retrieval"><i class="fa fa-check"></i><b>1.2.1</b> Semantic content-based image retrieval</a></li>
<li class="chapter" data-level="1.2.2" data-path="index.html"><a href="index.html#cloud-free-composite"><i class="fa fa-check"></i><b>1.2.2</b> Cloud-free composite</a></li>
<li class="chapter" data-level="1.2.3" data-path="index.html"><a href="index.html#time-series"><i class="fa fa-check"></i><b>1.2.3</b> Time series</a></li>
<li class="chapter" data-level="1.2.4" data-path="index.html"><a href="index.html#spatially-disaggregated-information"><i class="fa fa-check"></i><b>1.2.4</b> Spatially disaggregated information</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#next-steps-and-how-to-start"><i class="fa fa-check"></i><b>1.3</b> Next steps and how to start</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#more-information-and-community-access"><i class="fa fa-check"></i><b>1.4</b> More information and community access</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="enrichment.html"><a href="enrichment.html"><i class="fa fa-check"></i><b>2</b> Semantic Enrichment</a><ul>
<li class="chapter" data-level="2.1" data-path="enrichment.html"><a href="enrichment.html#siam"><i class="fa fa-check"></i><b>2.1</b> Satellite Image Automatic Mapper (SIAM)</a><ul>
<li class="chapter" data-level="2.1.1" data-path="enrichment.html"><a href="enrichment.html#siam_examples_austria"><i class="fa fa-check"></i><b>2.1.1</b> Applied in Austria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="start.html"><a href="start.html"><i class="fa fa-check"></i><b>3</b> Getting started</a><ul>
<li class="chapter" data-level="3.1" data-path="start.html"><a href="start.html#components"><i class="fa fa-check"></i><b>3.1</b> Components</a></li>
<li class="chapter" data-level="3.2" data-path="start.html"><a href="start.html#workflow"><i class="fa fa-check"></i><b>3.2</b> Workflow</a><ul>
<li class="chapter" data-level="3.2.1" data-path="start.html"><a href="start.html#selecting-the-model"><i class="fa fa-check"></i><b>3.2.1</b> Selecting the model</a></li>
<li class="chapter" data-level="3.2.2" data-path="start.html"><a href="start.html#selecting-the-area-of-interest"><i class="fa fa-check"></i><b>3.2.2</b> Selecting the area-of-interest</a></li>
<li class="chapter" data-level="3.2.3" data-path="start.html"><a href="start.html#selecting-the-time-interval"><i class="fa fa-check"></i><b>3.2.3</b> Selecting the time interval</a></li>
<li class="chapter" data-level="3.2.4" data-path="start.html"><a href="start.html#executing-the-semantic-query-and-inferring-new-information"><i class="fa fa-check"></i><b>3.2.4</b> Executing the semantic query and inferring new information</a></li>
<li class="chapter" data-level="3.2.5" data-path="start.html"><a href="start.html#preview-mode"><i class="fa fa-check"></i><b>3.2.5</b> Preview-mode</a></li>
<li class="chapter" data-level="3.2.6" data-path="start.html"><a href="start.html#viewing-and-downloading-the-results"><i class="fa fa-check"></i><b>3.2.6</b> Viewing and downloading the results</a></li>
<li class="chapter" data-level="3.2.7" data-path="start.html"><a href="start.html#error-handling"><i class="fa fa-check"></i><b>3.2.7</b> Error handling</a></li>
<li class="chapter" data-level="3.2.8" data-path="start.html"><a href="start.html#exampleworkflow"><i class="fa fa-check"></i><b>3.2.8</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="start.html"><a href="start.html#other-access-options"><i class="fa fa-check"></i><b>3.3</b> Other access options</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="model.html"><a href="model.html"><i class="fa fa-check"></i><b>4</b> Model structure</a></li>
<li class="chapter" data-level="5" data-path="blocks.html"><a href="blocks.html"><i class="fa fa-check"></i><b>5</b> Building blocks</a><ul>
<li class="chapter" data-level="5.1" data-path="blocks.html"><a href="blocks.html#definitions"><i class="fa fa-check"></i><b>5.1</b> Definitions</a><ul>
<li class="chapter" data-level="5.1.1" data-path="blocks.html"><a href="blocks.html#entities-and-properties"><i class="fa fa-check"></i><b>5.1.1</b> Entities and properties</a></li>
<li class="chapter" data-level="5.1.2" data-path="blocks.html"><a href="blocks.html#result_definition"><i class="fa fa-check"></i><b>5.1.2</b> Results</a></li>
<li class="chapter" data-level="5.1.3" data-path="blocks.html"><a href="blocks.html#seasons-and-partitions"><i class="fa fa-check"></i><b>5.1.3</b> Seasons and partitions</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="blocks.html"><a href="blocks.html#data-and-information"><i class="fa fa-check"></i><b>5.2</b> Data and information</a><ul>
<li class="chapter" data-level="5.2.1" data-path="blocks.html"><a href="blocks.html#appearance"><i class="fa fa-check"></i><b>5.2.1</b> Appearance</a></li>
<li class="chapter" data-level="5.2.2" data-path="blocks.html"><a href="blocks.html#atmosphere"><i class="fa fa-check"></i><b>5.2.2</b> Atmosphere</a></li>
<li class="chapter" data-level="5.2.3" data-path="blocks.html"><a href="blocks.html#reflectance"><i class="fa fa-check"></i><b>5.2.3</b> Reflectance</a></li>
<li class="chapter" data-level="5.2.4" data-path="blocks.html"><a href="blocks.html#topography"><i class="fa fa-check"></i><b>5.2.4</b> Topography</a></li>
<li class="chapter" data-level="5.2.5" data-path="blocks.html"><a href="blocks.html#artefacts"><i class="fa fa-check"></i><b>5.2.5</b> Artefacts</a></li>
<li class="chapter" data-level="5.2.6" data-path="blocks.html"><a href="blocks.html#metadata"><i class="fa fa-check"></i><b>5.2.6</b> Metadata</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="blocks.html"><a href="blocks.html#verbs"><i class="fa fa-check"></i><b>5.3</b> Verbs</a><ul>
<li class="chapter" data-level="5.3.1" data-path="blocks.html"><a href="blocks.html#evaluate"><i class="fa fa-check"></i><b>5.3.1</b> Evaluate</a></li>
<li class="chapter" data-level="5.3.2" data-path="blocks.html"><a href="blocks.html#filter"><i class="fa fa-check"></i><b>5.3.2</b> Filter</a></li>
<li class="chapter" data-level="5.3.3" data-path="blocks.html"><a href="blocks.html#group-by-and-ungroup"><i class="fa fa-check"></i><b>5.3.3</b> Group by and ungroup</a></li>
<li class="chapter" data-level="5.3.4" data-path="blocks.html"><a href="blocks.html#invert"><i class="fa fa-check"></i><b>5.3.4</b> Invert</a></li>
<li class="chapter" data-level="5.3.5" data-path="blocks.html"><a href="blocks.html#label"><i class="fa fa-check"></i><b>5.3.5</b> Label</a></li>
<li class="chapter" data-level="5.3.6" data-path="blocks.html"><a href="blocks.html#mask"><i class="fa fa-check"></i><b>5.3.6</b> Mask</a></li>
<li class="chapter" data-level="5.3.7" data-path="blocks.html"><a href="blocks.html#reduce"><i class="fa fa-check"></i><b>5.3.7</b> Reduce</a></li>
<li class="chapter" data-level="5.3.8" data-path="blocks.html"><a href="blocks.html#replace"><i class="fa fa-check"></i><b>5.3.8</b> Replace</a></li>
<li class="chapter" data-level="5.3.9" data-path="blocks.html"><a href="blocks.html#select"><i class="fa fa-check"></i><b>5.3.9</b> Select</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="blocks.html"><a href="blocks.html#combiners"><i class="fa fa-check"></i><b>5.4</b> Combiners</a><ul>
<li class="chapter" data-level="5.4.1" data-path="blocks.html"><a href="blocks.html#concatenate"><i class="fa fa-check"></i><b>5.4.1</b> Concatenate</a></li>
<li class="chapter" data-level="5.4.2" data-path="blocks.html"><a href="blocks.html#compose"><i class="fa fa-check"></i><b>5.4.2</b> Compose</a></li>
<li class="chapter" data-level="5.4.3" data-path="blocks.html"><a href="blocks.html#combine"><i class="fa fa-check"></i><b>5.4.3</b> Merge</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="blocks.html"><a href="blocks.html#time"><i class="fa fa-check"></i><b>5.5</b> Time</a><ul>
<li class="chapter" data-level="5.5.1" data-path="blocks.html"><a href="blocks.html#time_instant"><i class="fa fa-check"></i><b>5.5.1</b> Time instant</a></li>
<li class="chapter" data-level="5.5.2" data-path="blocks.html"><a href="blocks.html#time_period"><i class="fa fa-check"></i><b>5.5.2</b> Time periods</a></li>
<li class="chapter" data-level="5.5.3" data-path="blocks.html"><a href="blocks.html#time_collection"><i class="fa fa-check"></i><b>5.5.3</b> Time collection</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="blocks.html"><a href="blocks.html#space"><i class="fa fa-check"></i><b>5.6</b> Space</a></li>
<li class="chapter" data-level="5.7" data-path="blocks.html"><a href="blocks.html#comment"><i class="fa fa-check"></i><b>5.7</b> Comments</a></li>
<li class="chapter" data-level="5.8" data-path="blocks.html"><a href="blocks.html#disabling-blocks"><i class="fa fa-check"></i><b>5.8</b> Disabling blocks</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html"><i class="fa fa-check"></i><b>6</b> Advanced usage of the Sen2Cube.at system</a><ul>
<li class="chapter" data-level="6.1" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#factbases"><i class="fa fa-check"></i><b>6.1</b> Factbases</a><ul>
<li class="chapter" data-level="6.1.1" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#metadata-information-about-factbases"><i class="fa fa-check"></i><b>6.1.1</b> Metadata information about factbases</a></li>
<li class="chapter" data-level="6.1.2" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#switching-between-factbases"><i class="fa fa-check"></i><b>6.1.2</b> Switching between factbases</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#knowledgebase"><i class="fa fa-check"></i><b>6.2</b> Knowledgebase</a><ul>
<li class="chapter" data-level="6.2.1" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#metadata-information-about-models"><i class="fa fa-check"></i><b>6.2.1</b> Metadata information about models</a></li>
<li class="chapter" data-level="6.2.2" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#marking-models-as-favourite"><i class="fa fa-check"></i><b>6.2.2</b> Marking models as favourite</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#inferences-and-semantic-queries"><i class="fa fa-check"></i><b>6.3</b> Inferences and semantic queries</a><ul>
<li class="chapter" data-level="6.3.1" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#marking-inferences-as-favourite"><i class="fa fa-check"></i><b>6.3.1</b> Marking inferences as favourite</a></li>
<li class="chapter" data-level="6.3.2" data-path="advanced-usage-of-the-sen2cube.at-system.html"><a href="advanced-usage-of-the-sen2cube.at-system.html#cloning-inference-settings"><i class="fa fa-check"></i><b>6.3.2</b> Cloning inference settings</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>7</b> Examples</a></li>
<li class="chapter" data-level="8" data-path="error-codes.html"><a href="error-codes.html"><i class="fa fa-check"></i><b>8</b> Error codes</a><ul>
<li class="chapter" data-level="8.1" data-path="error-codes.html"><a href="error-codes.html#general-system-errors"><i class="fa fa-check"></i><b>8.1</b> General system errors</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:1100"><i class="fa fa-check"></i>1100 Not implemented</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="error-codes.html"><a href="error-codes.html#general-frontend-errors"><i class="fa fa-check"></i><b>8.2</b> General frontend errors</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2101"><i class="fa fa-check"></i>2101 Unknown general system error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2102"><i class="fa fa-check"></i>2102 General error during loading of data</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2103"><i class="fa fa-check"></i>2103 General error during storing of data</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2104"><i class="fa fa-check"></i>2104 Map is undefined</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="error-codes.html"><a href="error-codes.html#network-errors"><i class="fa fa-check"></i><b>8.3</b> Network errors</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2201"><i class="fa fa-check"></i>2201 Unknown general network error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2202"><i class="fa fa-check"></i>2202 Cannot load data because of unknown network error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2203"><i class="fa fa-check"></i>2203 Cannot save data because of unknown network error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2204"><i class="fa fa-check"></i>2204 Cannot load data because requested URL was not found</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2205"><i class="fa fa-check"></i>2205 Cannot load data because of an internal server error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2206"><i class="fa fa-check"></i>2206 No serialiser found</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2207"><i class="fa fa-check"></i>2207 Error during serialisation</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2208"><i class="fa fa-check"></i>2208 Syntax error during serialisation</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2220"><i class="fa fa-check"></i>2220 Model can not be loaded because blocks are not accessible or empty</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2221"><i class="fa fa-check"></i>2221 The basemaps associated with the factbase cannot be loaded</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2222"><i class="fa fa-check"></i>2222 Retrieving blocks for a model failed</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="error-codes.html"><a href="error-codes.html#user-input-settings-and-session"><i class="fa fa-check"></i><b>8.4</b> User input, settings and session</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2301"><i class="fa fa-check"></i>2301 Unknown error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2302"><i class="fa fa-check"></i>2302 No input received</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2303"><i class="fa fa-check"></i>2303 Invald input</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2304"><i class="fa fa-check"></i>2304 No factbase selected</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2305"><i class="fa fa-check"></i>2305 At least one setting for a semantic query is missing</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2306"><i class="fa fa-check"></i>2306 The submitted area-of-interest has an invalid EPSG code</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2307"><i class="fa fa-check"></i>2307 The submitted area-of-interest has an invalid format or type</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2308"><i class="fa fa-check"></i>2308 The submitted area-of-interest contains geometries with invalid coordinate ranges</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2370"><i class="fa fa-check"></i>2370 Unknown error during logging in</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2371"><i class="fa fa-check"></i>2371 Unknown error during logging out</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2372"><i class="fa fa-check"></i>2372 The current session is no longer authenticated</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2373"><i class="fa fa-check"></i>2373 User has not accepted usage conditions</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2374"><i class="fa fa-check"></i>2374 Not allowed</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="error-codes.html"><a href="error-codes.html#semantic-querying-and-model-editing"><i class="fa fa-check"></i><b>8.5</b> Semantic querying and model editing</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2401"><i class="fa fa-check"></i>2401 Unknown error</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2402"><i class="fa fa-check"></i>2402 The Blockly workspace is undefined</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2403"><i class="fa fa-check"></i>2403 The model is undefined</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2405"><i class="fa fa-check"></i>2405 No target field for block</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2406"><i class="fa fa-check"></i>2406 Dropdown menu of a block can not be generated</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2407"><i class="fa fa-check"></i>2407 Unknown block in a model</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2408"><i class="fa fa-check"></i>2408 Cannot delete model because it is used by inferences</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="error-codes.html"><a href="error-codes.html#result-retrieval-and-visualisation"><i class="fa fa-check"></i><b>8.6</b> Result retrieval and visualisation</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2501"><i class="fa fa-check"></i>2501 Unknown error during retrieval of a result</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2502"><i class="fa fa-check"></i>2502 Result cannot be visualised because it is empty</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2503"><i class="fa fa-check"></i>2503 A result map has an invalid EPSG code</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2504"><i class="fa fa-check"></i>2504 A result can not be loaded because of an invalid URL</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:2505"><i class="fa fa-check"></i>2505 A SCBIR result is not linked to an image</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="error-codes.html"><a href="error-codes.html#errors-associated-with-the-preparation-phase-of-semantic-queries"><i class="fa fa-check"></i><b>8.7</b> Errors associated with the preparation phase of semantic queries</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4101"><i class="fa fa-check"></i>4101 Invalid area-of-interest or time period</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4102"><i class="fa fa-check"></i>4102 Invalid start date</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4103"><i class="fa fa-check"></i>4103 Invalid end date</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="error-codes.html"><a href="error-codes.html#runtime-errors-of-semantic-queries"><i class="fa fa-check"></i><b>8.8</b> Runtime errors of semantic queries</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4201"><i class="fa fa-check"></i>4201 Inferences are stopped because of user request</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4203"><i class="fa fa-check"></i>4203 Inferences are stopped because of user timeout</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4204"><i class="fa fa-check"></i>4204 Inferences are stopped because of global timeout</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="error-codes.html"><a href="error-codes.html#errors-associated-with-the-status-of-a-factbase"><i class="fa fa-check"></i><b>8.9</b> Errors associated with the status of a factbase</a><ul>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4301"><i class="fa fa-check"></i>4301 Unknown factbase status</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4302"><i class="fa fa-check"></i>4302 Factbase is in maintenance status</a></li>
<li class="chapter" data-level="" data-path="error-codes.html"><a href="error-codes.html#ERROR:4303"><i class="fa fa-check"></i>4303 Factbase is in disabled status</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="api.html"><a href="api.html"><i class="fa fa-check"></i><b>9</b> API</a><ul>
<li class="chapter" data-level="9.1" data-path="api.html"><a href="api.html#api-auth"><i class="fa fa-check"></i><b>9.1</b> Authentication</a><ul>
<li class="chapter" data-level="9.1.1" data-path="api.html"><a href="api.html#requesting-a-token"><i class="fa fa-check"></i><b>9.1.1</b> Requesting a token</a></li>
<li class="chapter" data-level="9.1.2" data-path="api.html"><a href="api.html#using-the-token-getting-user-info"><i class="fa fa-check"></i><b>9.1.2</b> Using the token / getting user info</a></li>
<li class="chapter" data-level="9.1.3" data-path="api.html"><a href="api.html#refreshing-tokens"><i class="fa fa-check"></i><b>9.1.3</b> Refreshing tokens</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="api.html"><a href="api.html#api-basics"><i class="fa fa-check"></i><b>9.2</b> JSON:API Basics</a><ul>
<li class="chapter" data-level="9.2.1" data-path="api.html"><a href="api.html#fetching-entities"><i class="fa fa-check"></i><b>9.2.1</b> Fetching entities</a></li>
<li class="chapter" data-level="9.2.2" data-path="api.html"><a href="api.html#creating-entities"><i class="fa fa-check"></i><b>9.2.2</b> Creating entities</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="api.html"><a href="api.html#api-endpoints"><i class="fa fa-check"></i><b>9.3</b> Endpoints and object structures</a><ul>
<li class="chapter" data-level="9.3.1" data-path="api.html"><a href="api.html#inference"><i class="fa fa-check"></i><b>9.3.1</b> Inference</a></li>
<li class="chapter" data-level="9.3.2" data-path="api.html"><a href="api.html#factbase"><i class="fa fa-check"></i><b>9.3.2</b> Factbase</a></li>
<li class="chapter" data-level="9.3.3" data-path="api.html"><a href="api.html#knowledgebase-1"><i class="fa fa-check"></i><b>9.3.3</b> Knowledgebase</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="contact.html"><a href="contact.html"><i class="fa fa-check"></i><b>10</b> Contact</a></li>
<li class="chapter" data-level="11" data-path="legal.html"><a href="legal.html"><i class="fa fa-check"></i><b>11</b> Legal Info</a><ul>
<li class="chapter" data-level="11.1" data-path="legal.html"><a href="legal.html#proprietary-rights-acknowledgment"><i class="fa fa-check"></i><b>11.1</b> Proprietary Rights Acknowledgment</a></li>
<li class="chapter" data-level="11.2" data-path="legal.html"><a href="legal.html#trademarks"><i class="fa fa-check"></i><b>11.2</b> Trademarks</a></li>
<li class="chapter" data-level="11.3" data-path="legal.html"><a href="legal.html#licences"><i class="fa fa-check"></i><b>11.3</b> Licences</a></li>
<li class="chapter" data-level="11.4" data-path="legal.html"><a href="legal.html#liability"><i class="fa fa-check"></i><b>11.4</b> Liability</a></li>
<li class="chapter" data-level="11.5" data-path="legal.html"><a href="legal.html#information-duty-to-gpdr-art.-13-and-14"><i class="fa fa-check"></i><b>11.5</b> Information Duty to GPDR Art. 13 and 14</a><ul>
<li class="chapter" data-level="11.5.1" data-path="legal.html"><a href="legal.html#general"><i class="fa fa-check"></i><b>11.5.1</b> General</a></li>
<li class="chapter" data-level="11.5.2" data-path="legal.html"><a href="legal.html#legal-basis-for-processing-person-related-data"><i class="fa fa-check"></i><b>11.5.2</b> Legal basis for processing person-related data</a></li>
<li class="chapter" data-level="11.5.3" data-path="legal.html"><a href="legal.html#processing-of-data-data-categories-and-involved-groups-of-persons"><i class="fa fa-check"></i><b>11.5.3</b> Processing of data, data categories and involved groups of persons</a></li>
<li class="chapter" data-level="11.5.4" data-path="legal.html"><a href="legal.html#use-of-your-personal-data-purpose"><i class="fa fa-check"></i><b>11.5.4</b> Use of your personal data (purpose)</a></li>
<li class="chapter" data-level="11.5.5" data-path="legal.html"><a href="legal.html#your-rights-as-an-involved-person"><i class="fa fa-check"></i><b>11.5.5</b> Your rights as an involved person</a></li>
<li class="chapter" data-level="11.5.6" data-path="legal.html"><a href="legal.html#revoking-consent"><i class="fa fa-check"></i><b>11.5.6</b> Revoking consent</a></li>
<li class="chapter" data-level="11.5.7" data-path="legal.html"><a href="legal.html#deletion-of-person-related-data"><i class="fa fa-check"></i><b>11.5.7</b> Deletion of person-related data</a></li>
<li class="chapter" data-level="11.5.8" data-path="legal.html"><a href="legal.html#technical-organisational-measures"><i class="fa fa-check"></i><b>11.5.8</b> Technical organisational measures</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="legal.html"><a href="legal.html#additional-legal-info-in-german-only"><i class="fa fa-check"></i><b>11.6</b> Additional legal info (in German only)</a><ul>
<li class="chapter" data-level="11.6.1" data-path="legal.html"><a href="legal.html#offenlegung-gemäß-25-mediengesetz"><i class="fa fa-check"></i><b>11.6.1</b> Offenlegung gemäß § 25 Mediengesetz</a></li>
<li class="chapter" data-level="11.6.2" data-path="legal.html"><a href="legal.html#urheberrechte"><i class="fa fa-check"></i><b>11.6.2</b> Urheberrechte</a></li>
<li class="chapter" data-level="11.6.3" data-path="legal.html"><a href="legal.html#markenrechte"><i class="fa fa-check"></i><b>11.6.3</b> Markenrechte</a></li>
<li class="chapter" data-level="11.6.4" data-path="legal.html"><a href="legal.html#haftung-und-gewährleistung"><i class="fa fa-check"></i><b>11.6.4</b> Haftung und Gewährleistung</a></li>
<li class="chapter" data-level="11.6.5" data-path="legal.html"><a href="legal.html#aufsichtsbehörde-der-universität-salzburg"><i class="fa fa-check"></i><b>11.6.5</b> Aufsichtsbehörde der Universität Salzburg</a></li>
<li class="chapter" data-level="11.6.6" data-path="legal.html"><a href="legal.html#aufgaben-der-paris-lodron-universität-salzburg"><i class="fa fa-check"></i><b>11.6.6</b> Aufgaben der Paris-Lodron-Universität Salzburg</a></li>
<li class="chapter" data-level="11.6.7" data-path="legal.html"><a href="legal.html#umsatzsteuer-identifikationsnummer-uid-der-universität-salzburg"><i class="fa fa-check"></i><b>11.6.7</b> Umsatzsteuer-Identifikationsnummer (UID) der Universität Salzburg</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sen2Cube.at Manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="api" class="section level1">
<h1><span class="header-section-number">9</span> API</h1>
<p>This chapter is dedicated to describe the web API to interact with the Sen2Cube.AT
backend.</p>
<p>The API follows the <a href="https://jsonapi.org/">JSON:API specification</a>. This document will only describe the basics with
examples. For full documentation see <a href="https://jsonapi.org/format/">JSON:API specification documentation</a>. The
implementation used in the Sen2Cube.AT backend is <a href="https://flask-rest-jsonapi.readthedocs.io/">flask-rest-jsonapi</a>.
Especially the secion on <a href="https://flask-rest-jsonapi.readthedocs.io/en/latest/filtering.html">filtering</a> is important
as this is to a certain degree implementation specific and not completely described within the standard.</p>
<div id="api-auth" class="section level2">
<h2><span class="header-section-number">9.1</span> Authentication</h2>
<p>All API endpoints need authentication with OAuth2. The OAuth2 server is <a href="https://auth.sen2cube.at" class="uri">https://auth.sen2cube.at</a>. We recommend using an
OAuth client library provided for your language environment / framework and not handling the authentication by yourself.
The following snippets only illustrate the steps needed for authentication from the commandline. They assume a
Linux / Bash environment and use <a href="https://stedolan.github.io/jq/"><code>jq</code></a> to extract data from JSON.</p>
<p><strong>NOTE</strong> To keep your password out of the command history create a file s2c_pwd.txt containing your password without
trailing line break and store it in a save location. <strong>Don’t forget to delete the file when you’re done!</strong></p>
<p>For convenience we create a variable with our username.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="api.html#cb2-1"></a><span class="bu">export</span> <span class="va">S2C_UN=</span><span class="st">&quot;user.name&quot;</span></span></code></pre></div>
<div id="requesting-a-token" class="section level3">
<h3><span class="header-section-number">9.1.1</span> Requesting a token</h3>
<p>To request a session token we send our credentials to the OAuth token endpoint and store the result in a file called
<code>.token.json</code>.</p>
<p><strong>NOTE</strong> Make sure to delete this file when you’re done.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="api.html#cb3-1"></a><span class="ex">curl</span> -X POST <span class="st">&quot;https://auth.sen2cube.at/realms/sen2cube-at/protocol/openid-connect/token&quot;</span> \</span>
<span id="cb3-2"><a href="api.html#cb3-2"></a> -H <span class="st">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span> \</span>
<span id="cb3-3"><a href="api.html#cb3-3"></a> -d <span class="st">&quot;username=</span><span class="va">${S2C_UN}</span><span class="st">&quot;</span> \</span>
<span id="cb3-4"><a href="api.html#cb3-4"></a> -d <span class="st">&quot;password=</span><span class="va">$(</span><span class="fu">cat</span> ./s2c_pwd.txt<span class="va">)</span><span class="st">&quot;</span> \</span>
<span id="cb3-5"><a href="api.html#cb3-5"></a> -d <span class="st">&#39;grant_type=password&#39;</span> \</span>
<span id="cb3-6"><a href="api.html#cb3-6"></a> -d <span class="st">&quot;client_id=iq-web-client&quot;</span> <span class="op">&gt;</span> .token.json</span></code></pre></div>
<p>This returns a JSON structure containing the token and a refresh token <code>cat .token.json</code>:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb4-1"><a href="api.html#cb4-1"></a><span class="fu">{</span></span>
<span id="cb4-2"><a href="api.html#cb4-2"></a>  <span class="dt">&quot;access_token&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;token string&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb4-3"><a href="api.html#cb4-3"></a>  <span class="dt">&quot;expires_in&quot;</span><span class="fu">:</span> <span class="dv">300</span><span class="fu">,</span></span>
<span id="cb4-4"><a href="api.html#cb4-4"></a>  <span class="dt">&quot;refresh_expires_in&quot;</span><span class="fu">:</span> <span class="dv">1800</span><span class="fu">,</span></span>
<span id="cb4-5"><a href="api.html#cb4-5"></a>  <span class="dt">&quot;refresh_token&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;refresh token string&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb4-6"><a href="api.html#cb4-6"></a>  <span class="dt">&quot;token_type&quot;</span><span class="fu">:</span> <span class="st">&quot;bearer&quot;</span><span class="fu">,</span></span>
<span id="cb4-7"><a href="api.html#cb4-7"></a>  <span class="dt">&quot;not-before-policy&quot;</span><span class="fu">:</span> <span class="dv">1597324965</span><span class="fu">,</span></span>
<span id="cb4-8"><a href="api.html#cb4-8"></a>  <span class="dt">&quot;session_state&quot;</span><span class="fu">:</span> <span class="st">&quot;86c402ad-aff5-4e95-aa0b-f04fdbad7f09&quot;</span><span class="fu">,</span></span>
<span id="cb4-9"><a href="api.html#cb4-9"></a>  <span class="dt">&quot;scope&quot;</span><span class="fu">:</span> <span class="st">&quot;email profile&quot;</span></span>
<span id="cb4-10"><a href="api.html#cb4-10"></a><span class="fu">}</span></span></code></pre></div>
<p>We can extract the token and refresh token with <code>jq</code> and save them into files for convenience.</p>
<p><strong>NOTE</strong> Make sure to delete those files when you’re done.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="api.html#cb5-1"></a><span class="fu">cat</span> .token.json <span class="kw">|</span> <span class="ex">jq</span> -r <span class="st">&#39;.access_token&#39;</span> <span class="op">&gt;</span> .access_token.txt</span>
<span id="cb5-2"><a href="api.html#cb5-2"></a><span class="fu">cat</span> .token.json <span class="kw">|</span> <span class="ex">jq</span> -r <span class="st">&#39;.refresh_token&#39;</span> <span class="op">&gt;</span> .refresh_token.txt</span></code></pre></div>
</div>
<div id="using-the-token-getting-user-info" class="section level3">
<h3><span class="header-section-number">9.1.2</span> Using the token / getting user info</h3>
<p>The token must be added as <code>Authorization</code> header to the http requests. For example to get the user info of the
current user:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="api.html#cb6-1"></a><span class="ex">curl</span> -X GET \</span>
<span id="cb6-2"><a href="api.html#cb6-2"></a>  <span class="st">&quot;https://auth.sen2cube.at/realms/sen2cube-at/protocol/openid-connect/userinfo&quot;</span> \</span>
<span id="cb6-3"><a href="api.html#cb6-3"></a>  -H <span class="st">&quot;Authorization: Bearer </span><span class="va">$(</span><span class="fu">cat</span> .access_token.txt<span class="va">)</span><span class="st">&quot;</span></span></code></pre></div>
<p>This returns a JSON of the following format:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb7-1"><a href="api.html#cb7-1"></a><span class="fu">{</span></span>
<span id="cb7-2"><a href="api.html#cb7-2"></a>  <span class="dt">&quot;sub&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;SNIP&gt;&quot;</span><span class="fu">,</span></span>
<span id="cb7-3"><a href="api.html#cb7-3"></a>  <span class="dt">&quot;email_verified&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb7-4"><a href="api.html#cb7-4"></a>  <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;User Name&quot;</span><span class="fu">,</span></span>
<span id="cb7-5"><a href="api.html#cb7-5"></a>  <span class="dt">&quot;preferred_username&quot;</span><span class="fu">:</span> <span class="st">&quot;user.name&quot;</span><span class="fu">,</span></span>
<span id="cb7-6"><a href="api.html#cb7-6"></a>  <span class="dt">&quot;given_name&quot;</span><span class="fu">:</span> <span class="st">&quot;User&quot;</span><span class="fu">,</span></span>
<span id="cb7-7"><a href="api.html#cb7-7"></a>  <span class="dt">&quot;family_name&quot;</span><span class="fu">:</span> <span class="st">&quot;Name&quot;</span><span class="fu">,</span></span>
<span id="cb7-8"><a href="api.html#cb7-8"></a>  <span class="dt">&quot;email&quot;</span><span class="fu">:</span> <span class="st">&quot;user.name@mail.invalid&quot;</span></span>
<span id="cb7-9"><a href="api.html#cb7-9"></a><span class="fu">}</span></span></code></pre></div>
<p>The <code>preferred_username</code> field should match the username used for requesting the token.</p>
</div>
<div id="refreshing-tokens" class="section level3">
<h3><span class="header-section-number">9.1.3</span> Refreshing tokens</h3>
<p>By default tokens are valid for 5 minutes (300s). To refresh the session without using
username / password the refresh token can be used. The request is simliar to the initial
token request but with <code>grant_type</code> set to <code>refresh_token</code> and the refresh token instead
of username and password. Refresh tokens are valid for 30 minutes (1800s).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="api.html#cb8-1"></a><span class="ex">curl</span> -X POST <span class="st">&quot;https://auth.sen2cube.at/realms/sen2cube-at/protocol/openid-connect/token&quot;</span> \</span>
<span id="cb8-2"><a href="api.html#cb8-2"></a> -H <span class="st">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span> \</span>
<span id="cb8-3"><a href="api.html#cb8-3"></a> -d <span class="st">&quot;grant_type=refresh_token&quot;</span> \</span>
<span id="cb8-4"><a href="api.html#cb8-4"></a> -d <span class="st">&quot;refresh_token=</span><span class="va">$(</span><span class="fu">cat</span> .refresh_token.txt<span class="va">)</span><span class="st">&quot;</span> \</span>
<span id="cb8-5"><a href="api.html#cb8-5"></a> -d <span class="st">&quot;client_id=iq-web-client&quot;</span> <span class="op">&gt;</span> .token.json</span></code></pre></div>
<p>This returns a new set of tokens that can be extracted as shown above.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="api.html#cb9-1"></a><span class="fu">cat</span> .token.json <span class="kw">|</span> <span class="ex">jq</span> -r <span class="st">&#39;.access_token&#39;</span> <span class="op">&gt;</span> .access_token.txt</span>
<span id="cb9-2"><a href="api.html#cb9-2"></a><span class="fu">cat</span> .token.json <span class="kw">|</span> <span class="ex">jq</span> -r <span class="st">&#39;.refresh_token&#39;</span> <span class="op">&gt;</span> .refresh_token.txt</span></code></pre></div>
<p><strong>NOTE</strong> Most client libraries should provide a mechanism for automatic token refresh. This should be used whenever
possible.</p>
</div>
</div>
<div id="api-basics" class="section level2">
<h2><span class="header-section-number">9.2</span> JSON:API Basics</h2>
<p>This section shows very basic examples of how to fetch and create entities. For more complex examples please
check <a href="https://jsonapi.org/">JSON:API specification</a> and <a href="https://flask-rest-jsonapi.readthedocs.io/">flask-rest-jsonapi</a>
documentation.</p>
<div id="fetching-entities" class="section level3">
<h3><span class="header-section-number">9.2.1</span> Fetching entities</h3>
<p>Every resource has a unique URI. A resource is fetched by using an HTTP GET request.</p>
<p><strong>Note</strong> Every request against <a href="https://api.sen2cube.at" class="uri">https://api.sen2cube.at</a> needs the <code>Authorization: Bearer &lt;valid access token&gt;</code> header
to be set or it will fail with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/401">401 Unauthorized</a> error.</p>
<p>Get single entity with known ID (example ID 10424):</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="api.html#cb10-1"></a><span class="ex">curl</span> -X GET <span class="st">&quot;https://api.sen2cube.at/v1/inference/10424&quot;</span> \</span>
<span id="cb10-2"><a href="api.html#cb10-2"></a>  -H <span class="st">&quot;Authorization: Bearer </span><span class="va">$(</span><span class="fu">cat</span> .access_token.txt<span class="va">)</span><span class="st">&quot;</span></span></code></pre></div>
<p>Get multiple entities using paging / filters etc. This example fetches all inferences in pages of size 1:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="api.html#cb11-1"></a><span class="ex">curl</span> -X GET <span class="st">&quot;https://api.sen2cube.at/v1/inference?page[size]=1&quot;</span> \</span>
<span id="cb11-2"><a href="api.html#cb11-2"></a>  -H <span class="st">&quot;Authorization: Bearer </span><span class="va">$(</span><span class="fu">cat</span> .access_token.txt<span class="va">)</span><span class="st">&quot;</span></span></code></pre></div>
<p>This returns a JSON simliar to this (snipped the inference data for brevity). See below for data structure.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb12-1"><a href="api.html#cb12-1"></a><span class="fu">{</span></span>
<span id="cb12-2"><a href="api.html#cb12-2"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="er">//</span> <span class="er">array</span> <span class="er">containing</span> <span class="er">the</span> <span class="er">fetched</span> <span class="er">entities.</span></span>
<span id="cb12-3"><a href="api.html#cb12-3"></a>            <span class="er">//</span> <span class="er">in</span> <span class="er">case</span> <span class="er">of</span> <span class="er">getting</span> <span class="er">a</span> <span class="er">single</span> <span class="er">entity</span> <span class="er">via</span> <span class="er">ID</span> <span class="er">data</span> <span class="er">is</span> <span class="er">not</span> <span class="er">an</span> <span class="er">array</span></span>
<span id="cb12-4"><a href="api.html#cb12-4"></a>            <span class="er">//</span> <span class="er">but</span> <span class="er">just</span> <span class="er">the</span> <span class="er">object.</span></span>
<span id="cb12-5"><a href="api.html#cb12-5"></a>    <span class="fu">{</span></span>
<span id="cb12-6"><a href="api.html#cb12-6"></a>            <span class="er">//</span> <span class="er">snipped</span> <span class="er">inference</span> <span class="er">data</span> <span class="er">for</span> <span class="er">brevity</span> <span class="er">(see</span> <span class="er">below</span> <span class="er">for</span> <span class="er">format)</span></span>
<span id="cb12-7"><a href="api.html#cb12-7"></a>    <span class="fu">}</span></span>
<span id="cb12-8"><a href="api.html#cb12-8"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb12-9"><a href="api.html#cb12-9"></a>  <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb12-10"><a href="api.html#cb12-10"></a>    <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;http://api.sen2cube.at/v1/inference?page%5Bsize%5D=1&amp;filter%5Bowner%5D=user.name&quot;</span><span class="fu">,</span></span>
<span id="cb12-11"><a href="api.html#cb12-11"></a>    <span class="dt">&quot;first&quot;</span><span class="fu">:</span> <span class="st">&quot;http://api.sen2cube.at/v1/inference?page%5Bsize%5D=1&amp;filter%5Bowner%5D=user.name&quot;</span><span class="fu">,</span></span>
<span id="cb12-12"><a href="api.html#cb12-12"></a>    <span class="dt">&quot;last&quot;</span><span class="fu">:</span> <span class="st">&quot;http://api.sen2cube.at/v1/inference?page%5Bsize%5D=1&amp;filter%5Bowner%5D=user.name&amp;page%5Bnumber%5D=23&quot;</span><span class="fu">,</span></span>
<span id="cb12-13"><a href="api.html#cb12-13"></a>    <span class="dt">&quot;next&quot;</span><span class="fu">:</span> <span class="st">&quot;http://api.sen2cube.at/v1/inference?page%5Bsize%5D=1&amp;filter%5Bowner%5D=user.name&amp;page%5Bnumber%5D=2&quot;</span></span>
<span id="cb12-14"><a href="api.html#cb12-14"></a>  <span class="fu">},</span></span>
<span id="cb12-15"><a href="api.html#cb12-15"></a>  <span class="dt">&quot;meta&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb12-16"><a href="api.html#cb12-16"></a>    <span class="dt">&quot;count&quot;</span><span class="fu">:</span> <span class="dv">23</span></span>
<span id="cb12-17"><a href="api.html#cb12-17"></a>  <span class="fu">},</span></span>
<span id="cb12-18"><a href="api.html#cb12-18"></a>  <span class="dt">&quot;jsonapi&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb12-19"><a href="api.html#cb12-19"></a>    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0&quot;</span></span>
<span id="cb12-20"><a href="api.html#cb12-20"></a>  <span class="fu">}</span></span>
<span id="cb12-21"><a href="api.html#cb12-21"></a><span class="fu">}</span></span></code></pre></div>
<p>All results follow this structure. The <code>links</code> can be used to step through pages, the <code>meta/count</code> field shows the
total number of results matching the query and the <code>data</code> array contains the requested data.</p>
</div>
<div id="creating-entities" class="section level3">
<h3><span class="header-section-number">9.2.2</span> Creating entities</h3>
<p>To create an entity - currently only inferences and models can be created via API - the entity has to be send via <code>POST</code>
request to the corresponding endpoint. This will example will create an inference that will be executed by the backend.
We create a file <code>inference.json</code> and <code>POST</code> it to th endpoint <code>https://api.sen2cube.at/v1/inference</code></p>
<p>Example <code>inference.json</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb13-1"><a href="api.html#cb13-1"></a><span class="fu">{</span></span>
<span id="cb13-2"><a href="api.html#cb13-2"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-3"><a href="api.html#cb13-3"></a>    <span class="dt">&quot;attributes&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-4"><a href="api.html#cb13-4"></a>      <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;user.name&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">username</span> <span class="er">of</span> <span class="er">current</span> <span class="er">user.</span></span>
<span id="cb13-5"><a href="api.html#cb13-5"></a>                            <span class="er">//</span> <span class="er">**NOTE**</span> <span class="er">Because</span> <span class="er">of</span> <span class="er">a</span> <span class="er">known</span> <span class="er">BUG</span> <span class="er">at</span> <span class="er">the</span> <span class="er">moment</span></span>
<span id="cb13-6"><a href="api.html#cb13-6"></a>                            <span class="er">//</span>        <span class="er">this</span> <span class="er">will</span> <span class="er">not</span> <span class="er">be</span> <span class="er">autofilled</span> <span class="er">and</span> <span class="er">needs</span></span>
<span id="cb13-7"><a href="api.html#cb13-7"></a>                            <span class="er">//</span>        <span class="er">to</span> <span class="er">be</span> <span class="er">the</span> <span class="er">correct</span> <span class="er">preferred</span> <span class="er">username!</span></span>
<span id="cb13-8"><a href="api.html#cb13-8"></a>      <span class="dt">&quot;comment&quot;</span><span class="fu">:</span> <span class="st">&quot;Inference started via CURL&quot;</span><span class="fu">,</span></span>
<span id="cb13-9"><a href="api.html#cb13-9"></a>      <span class="er">//</span> <span class="er">temporal</span> <span class="er">range.</span> <span class="er">Both</span> <span class="er">need</span> <span class="er">to</span> <span class="er">be</span> <span class="er">ISO</span> <span class="er">timestamps</span> <span class="er">and</span> <span class="er">SHOULD</span> <span class="er">be</span> <span class="er">UTC</span></span>
<span id="cb13-10"><a href="api.html#cb13-10"></a>      <span class="dt">&quot;temp_range_start&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-03-01T00:00:00.000Z&quot;</span><span class="fu">,</span></span>
<span id="cb13-11"><a href="api.html#cb13-11"></a>      <span class="dt">&quot;temp_range_end&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-07-31T23:59:59.999Z&quot;</span><span class="fu">,</span></span>
<span id="cb13-12"><a href="api.html#cb13-12"></a>      <span class="er">//</span> <span class="er">area</span> <span class="er">of</span> <span class="er">interet.</span> <span class="er">Needs</span> <span class="er">to</span> <span class="er">be</span> <span class="er">a</span> <span class="er">GeoJSON</span> <span class="er">provided</span> <span class="er">as</span> <span class="er">STRING!</span></span>
<span id="cb13-13"><a href="api.html#cb13-13"></a>      <span class="dt">&quot;area_of_interest&quot;</span><span class="fu">:</span> <span class="st">&quot;{</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">FeatureCollection</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">features</span><span class="ch">\&quot;</span><span class="st">:[{</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Feature</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">properties</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Area-of-interest 00</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\&quot;</span><span class="st">geometry</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Polygon</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">coordinates</span><span class="ch">\&quot;</span><span class="st">:[[[14.07188,47.768556],[14.07188,47.865185],[14.237462,47.865185],[14.237462,47.768556],[14.07188,47.768556]]]}}]}&quot;</span><span class="fu">,</span></span>
<span id="cb13-14"><a href="api.html#cb13-14"></a>      <span class="er">//</span> <span class="er">downsample</span> <span class="er">factbase</span> <span class="er">resolution</span> <span class="er">by</span> <span class="er">this</span> <span class="er">factor.</span> <span class="er">Can</span> <span class="er">be</span> <span class="er">used</span></span>
<span id="cb13-15"><a href="api.html#cb13-15"></a>      <span class="er">//</span> <span class="er">for</span> <span class="er">quick</span> <span class="er">preview.</span> <span class="er">This</span> <span class="er">resamples</span> <span class="er">on</span> <span class="er">data</span> <span class="er">load</span><span class="fu">,</span> <span class="er">not</span> <span class="er">on</span></span>
<span id="cb13-16"><a href="api.html#cb13-16"></a>      <span class="er">//</span> <span class="er">result</span> <span class="er">generation!</span></span>
<span id="cb13-17"><a href="api.html#cb13-17"></a>      <span class="er">//</span> <span class="er">1</span> <span class="er">=</span> <span class="er">factbase</span> <span class="er">resolution</span></span>
<span id="cb13-18"><a href="api.html#cb13-18"></a>      <span class="dt">&quot;output_scale_factor&quot;</span><span class="fu">:</span> <span class="dv">10</span><span class="fu">,</span></span>
<span id="cb13-19"><a href="api.html#cb13-19"></a>      <span class="dt">&quot;favourite&quot;</span><span class="fu">:</span> <span class="kw">false</span></span>
<span id="cb13-20"><a href="api.html#cb13-20"></a>    <span class="fu">},</span></span>
<span id="cb13-21"><a href="api.html#cb13-21"></a>    <span class="dt">&quot;relationships&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-22"><a href="api.html#cb13-22"></a>      <span class="er">//</span> <span class="er">ID</span> <span class="er">of</span> <span class="er">the</span> <span class="er">knowledgebase</span> <span class="er">model</span> <span class="er">to</span> <span class="er">execute</span></span>
<span id="cb13-23"><a href="api.html#cb13-23"></a>      <span class="dt">&quot;knowledgebase&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-24"><a href="api.html#cb13-24"></a>        <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-25"><a href="api.html#cb13-25"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;knowledgebase&quot;</span><span class="fu">,</span></span>
<span id="cb13-26"><a href="api.html#cb13-26"></a>          <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;218&quot;</span></span>
<span id="cb13-27"><a href="api.html#cb13-27"></a>        <span class="fu">}</span></span>
<span id="cb13-28"><a href="api.html#cb13-28"></a>      <span class="fu">},</span></span>
<span id="cb13-29"><a href="api.html#cb13-29"></a>      <span class="er">//</span> <span class="er">ID</span> <span class="er">of</span> <span class="er">factbase</span> <span class="er">to</span> <span class="er">execute</span> <span class="er">against.</span></span>
<span id="cb13-30"><a href="api.html#cb13-30"></a>      <span class="dt">&quot;factbase&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-31"><a href="api.html#cb13-31"></a>        <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-32"><a href="api.html#cb13-32"></a>          <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;factbase&quot;</span><span class="fu">,</span></span>
<span id="cb13-33"><a href="api.html#cb13-33"></a>          <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="st">&quot;1&quot;</span></span>
<span id="cb13-34"><a href="api.html#cb13-34"></a>        <span class="fu">}</span></span>
<span id="cb13-35"><a href="api.html#cb13-35"></a>      <span class="fu">}</span></span>
<span id="cb13-36"><a href="api.html#cb13-36"></a>    <span class="fu">},</span></span>
<span id="cb13-37"><a href="api.html#cb13-37"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;inference&quot;</span> <span class="er">//</span> <span class="er">For</span> <span class="er">inference</span> <span class="er">endpoint</span> <span class="er">always</span> <span class="er">&#39;inference&#39;</span></span>
<span id="cb13-38"><a href="api.html#cb13-38"></a>  <span class="fu">}</span></span>
<span id="cb13-39"><a href="api.html#cb13-39"></a><span class="fu">}</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="api.html#cb14-1"></a><span class="ex">curl</span> -X POST <span class="st">&quot;https://api.sen2cube.at/v1/inference&quot;</span> \</span>
<span id="cb14-2"><a href="api.html#cb14-2"></a>  -H <span class="st">&quot;Authorization: Bearer </span><span class="va">$(</span><span class="fu">cat</span> .access_token.txt<span class="va">)</span><span class="st">&quot;</span> \</span>
<span id="cb14-3"><a href="api.html#cb14-3"></a>  -H <span class="st">&quot;Content-Type: application/json&quot;</span> \</span>
<span id="cb14-4"><a href="api.html#cb14-4"></a>  -d <span class="st">&quot;</span><span class="va">$(</span><span class="fu">cat</span> ./inference.json<span class="va">)</span><span class="st">&quot;</span></span></code></pre></div>
<p>On successful creation the server will return a <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/201"><code>201 CREATED</code></a>
with the following body (containing all optional fields). The field <code>id</code> contains the object ID.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb15-1"><a href="api.html#cb15-1"></a><span class="fu">{</span></span>
<span id="cb15-2"><a href="api.html#cb15-2"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-3"><a href="api.html#cb15-3"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;inference&quot;</span><span class="fu">,</span></span>
<span id="cb15-4"><a href="api.html#cb15-4"></a>    <span class="dt">&quot;attributes&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-5"><a href="api.html#cb15-5"></a>      <span class="er">//</span> <span class="er">Object</span> <span class="er">attributes</span> <span class="er">are</span> <span class="er">snipped</span> <span class="er">for</span> <span class="er">brewety</span></span>
<span id="cb15-6"><a href="api.html#cb15-6"></a>    <span class="fu">},</span></span>
<span id="cb15-7"><a href="api.html#cb15-7"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">10424</span><span class="fu">,</span></span>
<span id="cb15-8"><a href="api.html#cb15-8"></a>    <span class="dt">&quot;relationships&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-9"><a href="api.html#cb15-9"></a>      <span class="dt">&quot;factbase&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-10"><a href="api.html#cb15-10"></a>        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-11"><a href="api.html#cb15-11"></a>          <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/relationships/factbase&quot;</span><span class="fu">,</span></span>
<span id="cb15-12"><a href="api.html#cb15-12"></a>          <span class="dt">&quot;related&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/factbase&quot;</span></span>
<span id="cb15-13"><a href="api.html#cb15-13"></a>        <span class="fu">}</span></span>
<span id="cb15-14"><a href="api.html#cb15-14"></a>      <span class="fu">},</span></span>
<span id="cb15-15"><a href="api.html#cb15-15"></a>      <span class="dt">&quot;knowledgebase&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-16"><a href="api.html#cb15-16"></a>        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-17"><a href="api.html#cb15-17"></a>          <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/relationships/knowledgebase&quot;</span><span class="fu">,</span></span>
<span id="cb15-18"><a href="api.html#cb15-18"></a>          <span class="dt">&quot;related&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/knowledgebase&quot;</span></span>
<span id="cb15-19"><a href="api.html#cb15-19"></a>        <span class="fu">}</span></span>
<span id="cb15-20"><a href="api.html#cb15-20"></a>      <span class="fu">}</span></span>
<span id="cb15-21"><a href="api.html#cb15-21"></a>    <span class="fu">},</span></span>
<span id="cb15-22"><a href="api.html#cb15-22"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-23"><a href="api.html#cb15-23"></a>      <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424&quot;</span></span>
<span id="cb15-24"><a href="api.html#cb15-24"></a>    <span class="fu">}</span></span>
<span id="cb15-25"><a href="api.html#cb15-25"></a>  <span class="fu">},</span></span>
<span id="cb15-26"><a href="api.html#cb15-26"></a>  <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-27"><a href="api.html#cb15-27"></a>    <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424&quot;</span></span>
<span id="cb15-28"><a href="api.html#cb15-28"></a>  <span class="fu">},</span></span>
<span id="cb15-29"><a href="api.html#cb15-29"></a>  <span class="dt">&quot;jsonapi&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb15-30"><a href="api.html#cb15-30"></a>    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0&quot;</span></span>
<span id="cb15-31"><a href="api.html#cb15-31"></a>  <span class="fu">}</span></span>
<span id="cb15-32"><a href="api.html#cb15-32"></a><span class="fu">}</span></span></code></pre></div>
</div>
</div>
<div id="api-endpoints" class="section level2">
<h2><span class="header-section-number">9.3</span> Endpoints and object structures</h2>
<div id="inference" class="section level3">
<h3><span class="header-section-number">9.3.1</span> Inference</h3>
<p>Inferences are the central object for interacting with the backend. They schedule models from the knowledgebase to be
executed against a factbase.</p>
<p>Endpoint: <code>/v1/inference</code></p>
<p>The basic flow for running an inference is</p>
<ol style="list-style-type: decimal">
<li>Select a model from the knowledgebase (see below)</li>
<li>create a GeoJSON with the area of interest</li>
<li>pick a temporal range</li>
<li>create JSON and POST to inference endpoint</li>
<li>Then wait for the backend to schedule and execute the inference (need polling at the moment)</li>
<li>retrieve results when status changes to SUCCESS</li>
</ol>
<p><strong>Datamodel</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb16-1"><a href="api.html#cb16-1"></a><span class="fu">{</span></span>
<span id="cb16-2"><a href="api.html#cb16-2"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-3"><a href="api.html#cb16-3"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;inference&quot;</span><span class="fu">,</span>          <span class="er">//</span> <span class="er">always</span> <span class="dt">&quot;inference&quot;</span></span>
<span id="cb16-4"><a href="api.html#cb16-4"></a>    <span class="dt">&quot;attributes&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-5"><a href="api.html#cb16-5"></a>      <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;user.name&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">owner</span></span>
<span id="cb16-6"><a href="api.html#cb16-6"></a>      <span class="dt">&quot;comment&quot;</span><span class="fu">:</span> <span class="st">&quot; &quot;</span><span class="fu">,</span>             <span class="er">//</span> <span class="er">description</span> <span class="er">or</span> <span class="er">comment</span> <span class="er">on</span> <span class="er">inference</span></span>
<span id="cb16-7"><a href="api.html#cb16-7"></a></span>
<span id="cb16-8"><a href="api.html#cb16-8"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;SUCCEEDED&quot;</span><span class="fu">,</span>      <span class="er">//</span> <span class="er">status</span> <span class="er">ABORTED|CREATED|FAILED|SCHEDULED|STARTED|SUCCEEDED</span></span>
<span id="cb16-9"><a href="api.html#cb16-9"></a>      <span class="dt">&quot;status_message&quot;</span><span class="fu">:</span> <span class="st">&quot;The inference was successfully processed&quot;</span><span class="fu">,</span></span>
<span id="cb16-10"><a href="api.html#cb16-10"></a></span>
<span id="cb16-11"><a href="api.html#cb16-11"></a>      <span class="dt">&quot;timestamp_created&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-09-24T11:41:30.498496+00:00&quot;</span><span class="fu">,</span>   <span class="er">//</span> <span class="er">timestamp</span> <span class="er">of</span> <span class="er">creation</span></span>
<span id="cb16-12"><a href="api.html#cb16-12"></a>      <span class="dt">&quot;timestamp_started&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-09-24T12:13:17.527622+00:00&quot;</span><span class="fu">,</span>   <span class="er">//</span> <span class="er">timestamp</span> <span class="er">when</span> <span class="er">processing</span> <span class="er">started</span></span>
<span id="cb16-13"><a href="api.html#cb16-13"></a>      <span class="dt">&quot;timestamp_finished&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-09-24T12:15:48.661768+00:00&quot;</span><span class="fu">,</span>  <span class="er">//</span> <span class="er">timestamp</span> <span class="er">when</span> <span class="er">processing</span> <span class="er">finished</span></span>
<span id="cb16-14"><a href="api.html#cb16-14"></a></span>
<span id="cb16-15"><a href="api.html#cb16-15"></a>      <span class="dt">&quot;factbase_id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span>           <span class="er">//</span> <span class="er">id</span> <span class="er">of</span> <span class="er">used</span> <span class="er">factbase</span> <span class="er">(see</span> <span class="er">relationships</span> <span class="er">for</span> <span class="er">link)</span></span>
<span id="cb16-16"><a href="api.html#cb16-16"></a>      <span class="dt">&quot;knowledgebase_id&quot;</span><span class="fu">:</span> <span class="dv">218</span><span class="fu">,</span>    <span class="er">//</span> <span class="er">id</span> <span class="er">of</span> <span class="er">used</span> <span class="er">model</span> <span class="er">in</span> <span class="er">knowledgebase</span> <span class="er">(see</span> <span class="er">relationships</span> <span class="er">for</span> <span class="er">link)</span></span>
<span id="cb16-17"><a href="api.html#cb16-17"></a></span>
<span id="cb16-18"><a href="api.html#cb16-18"></a>      <span class="er">//</span> <span class="er">area</span> <span class="er">of</span> <span class="er">interest</span> <span class="er">to</span> <span class="er">run</span> <span class="er">model</span> <span class="er">on.</span> <span class="er">GeoJSON</span> <span class="er">as</span> <span class="er">STRING</span></span>
<span id="cb16-19"><a href="api.html#cb16-19"></a>      <span class="dt">&quot;area_of_interest&quot;</span><span class="fu">:</span> <span class="st">&quot;{</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">FeatureCollection</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">features</span><span class="ch">\&quot;</span><span class="st">:[{</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Feature</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">properties</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Area-of-interest 00</span><span class="ch">\&quot;</span><span class="st">},</span><span class="ch">\&quot;</span><span class="st">geometry</span><span class="ch">\&quot;</span><span class="st">:{</span><span class="ch">\&quot;</span><span class="st">type</span><span class="ch">\&quot;</span><span class="st">:</span><span class="ch">\&quot;</span><span class="st">Polygon</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">coordinates</span><span class="ch">\&quot;</span><span class="st">:[[[14.07188,47.768556],[14.07188,47.865185],[14.237462,47.865185],[14.237462,47.768556],[14.07188,47.768556]]]}}]}&quot;</span><span class="fu">,</span></span>
<span id="cb16-20"><a href="api.html#cb16-20"></a></span>
<span id="cb16-21"><a href="api.html#cb16-21"></a>      <span class="er">//</span> <span class="er">temporal</span> <span class="er">range</span> <span class="er">to</span> <span class="er">query</span> <span class="er">data</span> <span class="er">from</span></span>
<span id="cb16-22"><a href="api.html#cb16-22"></a>      <span class="dt">&quot;temp_range_start&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-03-01T00:00:00+00:00&quot;</span><span class="fu">,</span></span>
<span id="cb16-23"><a href="api.html#cb16-23"></a>      <span class="dt">&quot;temp_range_end&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-07-31T23:59:59.999000+00:00&quot;</span><span class="fu">,</span></span>
<span id="cb16-24"><a href="api.html#cb16-24"></a></span>
<span id="cb16-25"><a href="api.html#cb16-25"></a>      <span class="er">//</span> <span class="er">scalingfactor</span> <span class="er">for</span> <span class="er">resolution.</span> <span class="er">1</span> <span class="er">=</span> <span class="er">original</span> <span class="er">factbase</span> <span class="er">resolution.</span></span>
<span id="cb16-26"><a href="api.html#cb16-26"></a>      <span class="er">//</span> <span class="er">rescaling</span> <span class="er">happens</span> <span class="er">on</span> <span class="er">data</span> <span class="er">load</span> <span class="er">-</span> <span class="er">used</span> <span class="er">for</span> <span class="er">creating</span> <span class="er">quick</span> <span class="er">previews</span></span>
<span id="cb16-27"><a href="api.html#cb16-27"></a>      <span class="dt">&quot;output_scale_factor&quot;</span><span class="fu">:</span> <span class="dv">10</span><span class="fu">,</span></span>
<span id="cb16-28"><a href="api.html#cb16-28"></a></span>
<span id="cb16-29"><a href="api.html#cb16-29"></a>      <span class="er">//</span> <span class="er">array</span> <span class="er">of</span> <span class="er">outputs</span> <span class="er">as</span> <span class="er">JSON</span> <span class="er">string</span> <span class="er">(see</span> <span class="er">below</span> <span class="er">for</span> <span class="er">more</span> <span class="er">information)</span></span>
<span id="cb16-30"><a href="api.html#cb16-30"></a>      <span class="dt">&quot;output&quot;</span><span class="fu">:</span> <span class="st">&quot;[{</span><span class="ch">\&quot;</span><span class="st">name</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">Cloud_free_composite</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">inference_id</span><span class="ch">\&quot;</span><span class="st">: 10424, </span><span class="ch">\&quot;</span><span class="st">value_type</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">numerical</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">value_range</span><span class="ch">\&quot;</span><span class="st">: [354.0, 4463.0], </span><span class="ch">\&quot;</span><span class="st">dims</span><span class="ch">\&quot;</span><span class="st">: [</span><span class="ch">\&quot;</span><span class="st">band</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">y</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">x</span><span class="ch">\&quot;</span><span class="st">], </span><span class="ch">\&quot;</span><span class="st">file_type</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">geotiff</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">vis_type</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">composite</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">data</span><span class="ch">\&quot;</span><span class="st">: </span><span class="ch">\&quot;</span><span class="st">/output/sen2cube/user.name/Cloud_free_composite_id10424_3035.tiff</span><span class="ch">\&quot;</span><span class="st">, </span><span class="ch">\&quot;</span><span class="st">bytes</span><span class="ch">\&quot;</span><span class="st">: 106111, </span><span class="ch">\&quot;</span><span class="st">band_value_ranges</span><span class="ch">\&quot;</span><span class="st">: [[354.0, 4463.0], [602.0, 3601.0], [764.0, 3229.0]]}]&quot;</span><span class="fu">,</span></span>
<span id="cb16-31"><a href="api.html#cb16-31"></a>      <span class="dt">&quot;qgis_project_location&quot;</span><span class="fu">:</span> <span class="st">&quot;/output/sen2cube/user.name/qgis-project-id10424.zip&quot;</span><span class="fu">,</span></span>
<span id="cb16-32"><a href="api.html#cb16-32"></a>      </span>
<span id="cb16-33"><a href="api.html#cb16-33"></a>      <span class="dt">&quot;favourite&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span>         <span class="er">//</span> <span class="er">mark</span> <span class="er">inference</span> <span class="er">as</span> <span class="er">favourite</span> <span class="er">(for</span> <span class="er">UI)</span></span>
<span id="cb16-34"><a href="api.html#cb16-34"></a>      <span class="er">//</span> <span class="er">internal</span></span>
<span id="cb16-35"><a href="api.html#cb16-35"></a>     <span class="dt">&quot;status_timestamp&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb16-36"><a href="api.html#cb16-36"></a>      <span class="dt">&quot;status_progress&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb16-37"><a href="api.html#cb16-37"></a>    <span class="fu">},</span></span>
<span id="cb16-38"><a href="api.html#cb16-38"></a>    <span class="dt">&quot;relationships&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-39"><a href="api.html#cb16-39"></a>      <span class="dt">&quot;knowledgebase&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-40"><a href="api.html#cb16-40"></a>        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-41"><a href="api.html#cb16-41"></a>          <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/relationships/knowledgebase&quot;</span><span class="fu">,</span></span>
<span id="cb16-42"><a href="api.html#cb16-42"></a>          <span class="dt">&quot;related&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/knowledgebase&quot;</span></span>
<span id="cb16-43"><a href="api.html#cb16-43"></a>        <span class="fu">}</span></span>
<span id="cb16-44"><a href="api.html#cb16-44"></a>      <span class="fu">},</span></span>
<span id="cb16-45"><a href="api.html#cb16-45"></a>      <span class="dt">&quot;factbase&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-46"><a href="api.html#cb16-46"></a>        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-47"><a href="api.html#cb16-47"></a>          <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/relationships/factbase&quot;</span><span class="fu">,</span></span>
<span id="cb16-48"><a href="api.html#cb16-48"></a>          <span class="dt">&quot;related&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424/factbase&quot;</span></span>
<span id="cb16-49"><a href="api.html#cb16-49"></a>        <span class="fu">}</span></span>
<span id="cb16-50"><a href="api.html#cb16-50"></a>      <span class="fu">}</span></span>
<span id="cb16-51"><a href="api.html#cb16-51"></a>    <span class="fu">},</span></span>
<span id="cb16-52"><a href="api.html#cb16-52"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">10424</span><span class="fu">,</span></span>
<span id="cb16-53"><a href="api.html#cb16-53"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-54"><a href="api.html#cb16-54"></a>      <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424&quot;</span></span>
<span id="cb16-55"><a href="api.html#cb16-55"></a>    <span class="fu">}</span></span>
<span id="cb16-56"><a href="api.html#cb16-56"></a>  <span class="fu">},</span></span>
<span id="cb16-57"><a href="api.html#cb16-57"></a>  <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-58"><a href="api.html#cb16-58"></a>    <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/inference/10424&quot;</span></span>
<span id="cb16-59"><a href="api.html#cb16-59"></a>  <span class="fu">},</span></span>
<span id="cb16-60"><a href="api.html#cb16-60"></a>  <span class="dt">&quot;jsonapi&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb16-61"><a href="api.html#cb16-61"></a>    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0&quot;</span></span>
<span id="cb16-62"><a href="api.html#cb16-62"></a>  <span class="fu">}</span></span>
<span id="cb16-63"><a href="api.html#cb16-63"></a><span class="fu">}</span></span></code></pre></div>
<p>The <code>output</code> field contains a JSON string with an array of all results contained within the inference. The results are
defined in the knowledgebase model and vary from model to model. The basic structure is:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb17-1"><a href="api.html#cb17-1"></a><span class="ot">[</span></span>
<span id="cb17-2"><a href="api.html#cb17-2"></a>  <span class="er">//</span> <span class="er">example</span> <span class="er">of</span> <span class="er">GeoTIFF</span> <span class="er">result</span></span>
<span id="cb17-3"><a href="api.html#cb17-3"></a>  <span class="fu">{</span></span>
<span id="cb17-4"><a href="api.html#cb17-4"></a>    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;Cloud_free_composite&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">name</span> <span class="er">of</span> <span class="er">the</span> <span class="er">result</span></span>
<span id="cb17-5"><a href="api.html#cb17-5"></a>    <span class="dt">&quot;inference_id&quot;</span><span class="fu">:</span> <span class="dv">10424</span><span class="fu">,</span>          <span class="er">//</span> <span class="er">ID</span> <span class="er">of</span> <span class="er">the</span> <span class="er">inference</span></span>
<span id="cb17-6"><a href="api.html#cb17-6"></a>    <span class="dt">&quot;value_type&quot;</span><span class="fu">:</span> <span class="st">&quot;numerical&quot;</span><span class="fu">,</span>      <span class="er">//</span> <span class="er">datatype</span> <span class="er">(numerical|categorical)</span></span>
<span id="cb17-7"><a href="api.html#cb17-7"></a>    <span class="dt">&quot;value_range&quot;</span><span class="fu">:</span> <span class="ot">[</span>                <span class="er">//</span> <span class="er">min</span> <span class="er">and</span> <span class="er">max</span> <span class="er">value</span> <span class="er">over</span> <span class="er">all</span> <span class="er">bands</span></span>
<span id="cb17-8"><a href="api.html#cb17-8"></a>      <span class="dv">354</span><span class="ot">,</span></span>
<span id="cb17-9"><a href="api.html#cb17-9"></a>      <span class="dv">4463</span></span>
<span id="cb17-10"><a href="api.html#cb17-10"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb17-11"><a href="api.html#cb17-11"></a>    <span class="dt">&quot;dims&quot;</span><span class="fu">:</span> <span class="ot">[</span>                       <span class="er">//</span> <span class="er">dimensions</span> </span>
<span id="cb17-12"><a href="api.html#cb17-12"></a>      <span class="st">&quot;band&quot;</span><span class="ot">,</span></span>
<span id="cb17-13"><a href="api.html#cb17-13"></a>      <span class="st">&quot;y&quot;</span><span class="ot">,</span></span>
<span id="cb17-14"><a href="api.html#cb17-14"></a>      <span class="st">&quot;x&quot;</span></span>
<span id="cb17-15"><a href="api.html#cb17-15"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb17-16"><a href="api.html#cb17-16"></a>    <span class="dt">&quot;file_type&quot;</span><span class="fu">:</span> <span class="st">&quot;geotiff&quot;</span><span class="fu">,</span>         <span class="er">//</span> <span class="er">geotiff|csv</span> </span>
<span id="cb17-17"><a href="api.html#cb17-17"></a>    <span class="dt">&quot;vis_type&quot;</span><span class="fu">:</span> <span class="st">&quot;composite&quot;</span><span class="fu">,</span>        <span class="er">//</span> <span class="er">for</span> <span class="er">UI</span> <span class="er">purposes</span></span>
<span id="cb17-18"><a href="api.html#cb17-18"></a>    <span class="er">//</span> <span class="er">path</span> <span class="er">to</span> <span class="er">download.</span> <span class="er">This</span> <span class="er">needs</span> <span class="er">to</span> <span class="er">be</span> <span class="er">prefixed</span> <span class="er">with</span> <span class="er">URI</span> <span class="er">from</span> <span class="er">the</span> <span class="er">factbase</span> <span class="er">(see</span> <span class="er">below)</span></span>
<span id="cb17-19"><a href="api.html#cb17-19"></a>    <span class="er">//</span> <span class="er">that</span> <span class="er">this</span> <span class="er">inference</span> <span class="er">was</span> <span class="er">executed</span> <span class="er">agains.</span> <span class="er">In</span> <span class="er">this</span> <span class="er">case</span> <span class="er">https</span><span class="fu">:</span><span class="er">//demo.sen2cube.at.</span></span>
<span id="cb17-20"><a href="api.html#cb17-20"></a>    <span class="st">&quot;data&quot;</span><span class="er">:</span> <span class="st">&quot;/output/sen2cube/user.name/Cloud_free_composite_id10424_3035.tiff&quot;</span><span class="fu">,</span></span>
<span id="cb17-21"><a href="api.html#cb17-21"></a>    <span class="dt">&quot;bytes&quot;</span><span class="fu">:</span> <span class="dv">106111</span><span class="fu">,</span>                <span class="er">//</span> <span class="er">filesize</span></span>
<span id="cb17-22"><a href="api.html#cb17-22"></a>    <span class="dt">&quot;band_value_ranges&quot;</span><span class="fu">:</span> <span class="ot">[</span>          <span class="er">//</span> <span class="er">min/max</span> <span class="er">values</span> <span class="er">per</span> <span class="er">band</span></span>
<span id="cb17-23"><a href="api.html#cb17-23"></a>      <span class="ot">[</span></span>
<span id="cb17-24"><a href="api.html#cb17-24"></a>        <span class="dv">354</span><span class="ot">,</span></span>
<span id="cb17-25"><a href="api.html#cb17-25"></a>        <span class="dv">4463</span></span>
<span id="cb17-26"><a href="api.html#cb17-26"></a>      <span class="ot">],</span></span>
<span id="cb17-27"><a href="api.html#cb17-27"></a>      <span class="ot">[</span></span>
<span id="cb17-28"><a href="api.html#cb17-28"></a>        <span class="dv">602</span><span class="ot">,</span></span>
<span id="cb17-29"><a href="api.html#cb17-29"></a>        <span class="dv">3601</span></span>
<span id="cb17-30"><a href="api.html#cb17-30"></a>      <span class="ot">],</span></span>
<span id="cb17-31"><a href="api.html#cb17-31"></a>      <span class="ot">[</span></span>
<span id="cb17-32"><a href="api.html#cb17-32"></a>        <span class="dv">764</span><span class="ot">,</span></span>
<span id="cb17-33"><a href="api.html#cb17-33"></a>        <span class="dv">3229</span></span>
<span id="cb17-34"><a href="api.html#cb17-34"></a>      <span class="ot">]</span></span>
<span id="cb17-35"><a href="api.html#cb17-35"></a>    <span class="ot">]</span></span>
<span id="cb17-36"><a href="api.html#cb17-36"></a>  <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb17-37"><a href="api.html#cb17-37"></a>  <span class="er">//</span> <span class="er">example</span> <span class="er">of</span> <span class="er">a</span> <span class="er">simple</span> <span class="er">timeseries</span> <span class="er">on</span> <span class="er">one</span> <span class="er">polygon</span></span>
<span id="cb17-38"><a href="api.html#cb17-38"></a>  <span class="er">//</span> <span class="er">resulting</span> <span class="er">CSV</span> <span class="er">has</span> <span class="er">two</span> <span class="er">columns:</span> <span class="er">time</span> <span class="er">and</span> <span class="er">cloud_percentage_aoi</span></span>
<span id="cb17-39"><a href="api.html#cb17-39"></a>  <span class="er">//</span> <span class="er">containing</span> <span class="er">the</span> <span class="er">value</span></span>
<span id="cb17-40"><a href="api.html#cb17-40"></a>  <span class="fu">{</span></span>
<span id="cb17-41"><a href="api.html#cb17-41"></a>    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;cloud_percentage_aoi&quot;</span><span class="fu">,</span></span>
<span id="cb17-42"><a href="api.html#cb17-42"></a>    <span class="dt">&quot;inference_id&quot;</span><span class="fu">:</span> <span class="dv">10424</span><span class="fu">,</span></span>
<span id="cb17-43"><a href="api.html#cb17-43"></a>    <span class="dt">&quot;value_type&quot;</span><span class="fu">:</span> <span class="st">&quot;numerical&quot;</span><span class="fu">,</span></span>
<span id="cb17-44"><a href="api.html#cb17-44"></a>    <span class="dt">&quot;value_range&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb17-45"><a href="api.html#cb17-45"></a>      <span class="dv">0</span><span class="ot">,</span></span>
<span id="cb17-46"><a href="api.html#cb17-46"></a>      <span class="dv">100</span></span>
<span id="cb17-47"><a href="api.html#cb17-47"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb17-48"><a href="api.html#cb17-48"></a>    <span class="dt">&quot;dims&quot;</span><span class="fu">:</span> <span class="ot">[</span> </span>
<span id="cb17-49"><a href="api.html#cb17-49"></a>      <span class="st">&quot;time&quot;</span></span>
<span id="cb17-50"><a href="api.html#cb17-50"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb17-51"><a href="api.html#cb17-51"></a>    <span class="dt">&quot;file_type&quot;</span><span class="fu">:</span> <span class="st">&quot;csv&quot;</span><span class="fu">,</span></span>
<span id="cb17-52"><a href="api.html#cb17-52"></a>    <span class="dt">&quot;vis_type&quot;</span><span class="fu">:</span> <span class="st">&quot;single_line_graph&quot;</span><span class="fu">,</span></span>
<span id="cb17-53"><a href="api.html#cb17-53"></a>    <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="st">&quot;/output/sen2cube/user.name/cloud_percentage_aoi_id10424.csv&quot;</span><span class="fu">,</span></span>
<span id="cb17-54"><a href="api.html#cb17-54"></a>    <span class="dt">&quot;bytes&quot;</span><span class="fu">:</span> <span class="dv">1053</span><span class="fu">,</span></span>
<span id="cb17-55"><a href="api.html#cb17-55"></a>    <span class="dt">&quot;x-axis&quot;</span><span class="fu">:</span> <span class="st">&quot;time&quot;</span><span class="fu">,</span></span>
<span id="cb17-56"><a href="api.html#cb17-56"></a>    <span class="dt">&quot;y-axis&quot;</span><span class="fu">:</span> <span class="st">&quot;cloud_percentage_aoi&quot;</span></span>
<span id="cb17-57"><a href="api.html#cb17-57"></a>  <span class="fu">}</span><span class="ot">,</span></span>
<span id="cb17-58"><a href="api.html#cb17-58"></a>  <span class="er">//</span> <span class="er">example</span> <span class="er">with</span> <span class="er">multiple</span> <span class="er">polygons</span></span>
<span id="cb17-59"><a href="api.html#cb17-59"></a>  <span class="er">//</span> <span class="er">resulting</span> <span class="er">CSV</span> <span class="er">contains</span> <span class="dv">3</span> <span class="er">columns.</span></span>
<span id="cb17-60"><a href="api.html#cb17-60"></a>  <span class="er">//</span> <span class="er">space</span> <span class="er">contrains</span> <span class="er">the</span> <span class="er">polygonname</span> <span class="er">(set</span> <span class="er">by</span> <span class="er">property</span> <span class="er">&#39;name&#39;</span> <span class="er">in</span> <span class="er">GeoJSON)</span></span>
<span id="cb17-61"><a href="api.html#cb17-61"></a>  <span class="er">//</span> <span class="er">time</span> <span class="er">and</span> <span class="er">value.</span></span>
<span id="cb17-62"><a href="api.html#cb17-62"></a>  <span class="fu">{</span></span>
<span id="cb17-63"><a href="api.html#cb17-63"></a>    <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;pre_event_mowing_cloudless&quot;</span><span class="fu">,</span></span>
<span id="cb17-64"><a href="api.html#cb17-64"></a>    <span class="dt">&quot;inference_id&quot;</span><span class="fu">:</span> <span class="dv">10424</span><span class="fu">,</span></span>
<span id="cb17-65"><a href="api.html#cb17-65"></a>    <span class="dt">&quot;value_type&quot;</span><span class="fu">:</span> <span class="st">&quot;numerical&quot;</span><span class="fu">,</span></span>
<span id="cb17-66"><a href="api.html#cb17-66"></a>    <span class="dt">&quot;value_range&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb17-67"><a href="api.html#cb17-67"></a>      <span class="dv">0</span><span class="ot">,</span></span>
<span id="cb17-68"><a href="api.html#cb17-68"></a>      <span class="dv">100</span></span>
<span id="cb17-69"><a href="api.html#cb17-69"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb17-70"><a href="api.html#cb17-70"></a>    <span class="dt">&quot;dims&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb17-71"><a href="api.html#cb17-71"></a>      <span class="st">&quot;space&quot;</span><span class="ot">,</span></span>
<span id="cb17-72"><a href="api.html#cb17-72"></a>      <span class="st">&quot;time&quot;</span></span>
<span id="cb17-73"><a href="api.html#cb17-73"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb17-74"><a href="api.html#cb17-74"></a>    <span class="dt">&quot;file_type&quot;</span><span class="fu">:</span> <span class="st">&quot;csv&quot;</span><span class="fu">,</span></span>
<span id="cb17-75"><a href="api.html#cb17-75"></a>    <span class="dt">&quot;vis_type&quot;</span><span class="fu">:</span> <span class="st">&quot;multi_line_graph&quot;</span><span class="fu">,</span></span>
<span id="cb17-76"><a href="api.html#cb17-76"></a>    <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="st">&quot;/output/sen2cube/user.name/pre_event_mowing_cloudless_id10424.csv&quot;</span><span class="fu">,</span></span>
<span id="cb17-77"><a href="api.html#cb17-77"></a>    <span class="dt">&quot;bytes&quot;</span><span class="fu">:</span> <span class="dv">21891</span><span class="fu">,</span></span>
<span id="cb17-78"><a href="api.html#cb17-78"></a>    <span class="dt">&quot;x-axis&quot;</span><span class="fu">:</span> <span class="st">&quot;time&quot;</span><span class="fu">,</span></span>
<span id="cb17-79"><a href="api.html#cb17-79"></a>    <span class="dt">&quot;y-axis&quot;</span><span class="fu">:</span> <span class="st">&quot;pre_event_mowing_cloudless&quot;</span><span class="fu">,</span></span>
<span id="cb17-80"><a href="api.html#cb17-80"></a>    <span class="dt">&quot;lines&quot;</span><span class="fu">:</span> <span class="st">&quot;space&quot;</span></span>
<span id="cb17-81"><a href="api.html#cb17-81"></a>  <span class="fu">}</span><span class="ot">,</span>  </span>
<span id="cb17-82"><a href="api.html#cb17-82"></a><span class="ot">]</span></span></code></pre></div>
<p><strong>Downloading result</strong>
To download a result the URI in <code>data</code> has to be prefixed with the <code>uri</code> of the factbase it was executed against.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="api.html#cb18-1"></a><span class="ex">curl</span> -X GET \</span>
<span id="cb18-2"><a href="api.html#cb18-2"></a>  <span class="st">&quot;https://demo.sen2cube.at/output/sen2cube/user.name/Cloud_free_composite_id10424_3035.tiff&quot;</span> \</span>
<span id="cb18-3"><a href="api.html#cb18-3"></a>  -H <span class="st">&quot;Authorization: Bearer </span><span class="va">$(</span><span class="fu">cat</span> .access_token.txt<span class="va">)</span><span class="st">&quot;</span> \</span>
<span id="cb18-4"><a href="api.html#cb18-4"></a>  --output Cloud_free_composite_id10424_3035.tiff</span></code></pre></div>
</div>
<div id="factbase" class="section level3">
<h3><span class="header-section-number">9.3.2</span> Factbase</h3>
<p>Factbases contain the image data and semantic information.</p>
<p>Endpoint: <code>/v1/factbase</code></p>
<p><strong>Datamodel</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb19-1"><a href="api.html#cb19-1"></a><span class="fu">{</span></span>
<span id="cb19-2"><a href="api.html#cb19-2"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-3"><a href="api.html#cb19-3"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;factbase&quot;</span><span class="fu">,</span>           <span class="er">//</span> <span class="er">always</span> <span class="dt">&quot;factbase&quot;</span></span>
<span id="cb19-4"><a href="api.html#cb19-4"></a>    <span class="dt">&quot;attributes&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-5"><a href="api.html#cb19-5"></a>      <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;Austria&quot;</span><span class="fu">,</span>         <span class="er">//</span> <span class="er">title</span></span>
<span id="cb19-6"><a href="api.html#cb19-6"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;Sen2Cube.at data cube for Austria&quot;</span><span class="fu">,</span></span>
<span id="cb19-7"><a href="api.html#cb19-7"></a>      <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;Martin Sudmanns&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">owner</span></span>
<span id="cb19-8"><a href="api.html#cb19-8"></a>      <span class="dt">&quot;project&quot;</span><span class="fu">:</span> <span class="st">&quot;sen2cube&quot;</span><span class="fu">,</span>      <span class="er">//</span> <span class="er">project</span> <span class="er">(internal)</span></span>
<span id="cb19-9"><a href="api.html#cb19-9"></a>      <span class="dt">&quot;owner_email&quot;</span><span class="fu">:</span> <span class="st">&quot;info@sen2cube.at&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">contact</span> <span class="er">email</span></span>
<span id="cb19-10"><a href="api.html#cb19-10"></a>      <span class="dt">&quot;uri&quot;</span><span class="fu">:</span> <span class="st">&quot;https://demo.sen2cube.at&quot;</span><span class="fu">,</span> <span class="er">//</span> <span class="er">URI</span> <span class="er">of</span> <span class="er">the</span> <span class="er">factbase</span> <span class="er">-</span> <span class="er">prefix</span> <span class="er">infrence</span> <span class="er">output</span> <span class="er">location</span> <span class="er">with</span> <span class="er">this</span> <span class="er">URI</span> <span class="er">to</span> <span class="er">download</span> <span class="er">data</span></span>
<span id="cb19-11"><a href="api.html#cb19-11"></a>      <span class="dt">&quot;status&quot;</span><span class="fu">:</span> <span class="st">&quot;OK&quot;</span><span class="fu">,</span>             <span class="er">//</span> <span class="er">status</span> <span class="er">of</span> <span class="er">factbase.</span> <span class="er">OK|BUSY|MAINTENANCE</span></span>
<span id="cb19-12"><a href="api.html#cb19-12"></a></span>
<span id="cb19-13"><a href="api.html#cb19-13"></a>      <span class="dt">&quot;sensor&quot;</span><span class="fu">:</span> <span class="st">&quot;sentinel-2&quot;</span><span class="fu">,</span>     <span class="er">//</span> <span class="er">name</span> <span class="er">of</span> <span class="er">sensor</span></span>
<span id="cb19-14"><a href="api.html#cb19-14"></a>      <span class="dt">&quot;dateStart&quot;</span><span class="fu">:</span> <span class="st">&quot;2015-07-04&quot;</span><span class="fu">,</span>  <span class="er">//</span> <span class="er">start</span> <span class="er">of</span> <span class="er">temporal</span> <span class="er">extent</span></span>
<span id="cb19-15"><a href="api.html#cb19-15"></a>      <span class="dt">&quot;dateEnd&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-08-10&quot;</span><span class="fu">,</span>    <span class="er">//</span> <span class="er">end</span> <span class="er">of</span> <span class="er">temporal</span> <span class="er">extent</span></span>
<span id="cb19-16"><a href="api.html#cb19-16"></a></span>
<span id="cb19-17"><a href="api.html#cb19-17"></a>      <span class="er">//</span> <span class="er">SRS</span> <span class="er">of</span> <span class="er">factbase</span></span>
<span id="cb19-18"><a href="api.html#cb19-18"></a>      <span class="dt">&quot;srs&quot;</span><span class="fu">:</span> <span class="st">&quot;PROJCS[</span><span class="ch">\&quot;</span><span class="st">ETRS89 / LAEA Europe</span><span class="ch">\&quot;</span><span class="st">,GEOGCS[</span><span class="ch">\&quot;</span><span class="st">ETRS89</span><span class="ch">\&quot;</span><span class="st">,DATUM[</span><span class="ch">\&quot;</span><span class="st">European_Terrestrial_Reference_System_1989</span><span class="ch">\&quot;</span><span class="st">,SPHEROID[</span><span class="ch">\&quot;</span><span class="st">GRS 1980</span><span class="ch">\&quot;</span><span class="st">,6378137,298.257222101,AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">7019</span><span class="ch">\&quot;</span><span class="st">]],TOWGS84[0,0,0,0,0,0,0],AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">6258</span><span class="ch">\&quot;</span><span class="st">]],PRIMEM[</span><span class="ch">\&quot;</span><span class="st">Greenwich</span><span class="ch">\&quot;</span><span class="st">,0,AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">8901</span><span class="ch">\&quot;</span><span class="st">]],UNIT[</span><span class="ch">\&quot;</span><span class="st">degree</span><span class="ch">\&quot;</span><span class="st">,0.0174532925199433,AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">9122</span><span class="ch">\&quot;</span><span class="st">]],AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">4258</span><span class="ch">\&quot;</span><span class="st">]],PROJECTION[</span><span class="ch">\&quot;</span><span class="st">Lambert_Azimuthal_Equal_Area</span><span class="ch">\&quot;</span><span class="st">],PARAMETER[</span><span class="ch">\&quot;</span><span class="st">latitude_of_center</span><span class="ch">\&quot;</span><span class="st">,52],PARAMETER[</span><span class="ch">\&quot;</span><span class="st">longitude_of_center</span><span class="ch">\&quot;</span><span class="st">,10],PARAMETER[</span><span class="ch">\&quot;</span><span class="st">false_easting</span><span class="ch">\&quot;</span><span class="st">,4321000],PARAMETER[</span><span class="ch">\&quot;</span><span class="st">false_northing</span><span class="ch">\&quot;</span><span class="st">,3210000],UNIT[</span><span class="ch">\&quot;</span><span class="st">metre</span><span class="ch">\&quot;</span><span class="st">,1,AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">9001</span><span class="ch">\&quot;</span><span class="st">]],AUTHORITY[</span><span class="ch">\&quot;</span><span class="st">EPSG</span><span class="ch">\&quot;</span><span class="st">,</span><span class="ch">\&quot;</span><span class="st">3035</span><span class="ch">\&quot;</span><span class="st">]]&quot;</span><span class="fu">,</span></span>
<span id="cb19-19"><a href="api.html#cb19-19"></a>      <span class="dt">&quot;resolution&quot;</span><span class="fu">:</span> <span class="ot">[</span>             <span class="er">//</span> <span class="er">native</span> <span class="er">resolution</span> <span class="er">(x/y)</span> <span class="er">in</span> <span class="er">m</span></span>
<span id="cb19-20"><a href="api.html#cb19-20"></a>        <span class="dv">10</span><span class="ot">,</span></span>
<span id="cb19-21"><a href="api.html#cb19-21"></a>        <span class="dv">10</span></span>
<span id="cb19-22"><a href="api.html#cb19-22"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb19-23"><a href="api.html#cb19-23"></a>      <span class="dt">&quot;layout&quot;</span><span class="fu">:</span> <span class="fu">{</span>                 <span class="er">//</span> <span class="er">description</span> <span class="er">of</span> <span class="er">layers</span> <span class="er">available</span> <span class="er">in</span> <span class="er">this</span> <span class="er">factbase</span></span>
<span id="cb19-24"><a href="api.html#cb19-24"></a>        <span class="dt">&quot;reflectance&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span>        <span class="er">//</span> <span class="er">snipped</span> <span class="er">for</span> <span class="er">brevity</span></span>
<span id="cb19-25"><a href="api.html#cb19-25"></a>        <span class="dt">&quot;appearance&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb19-26"><a href="api.html#cb19-26"></a>        <span class="dt">&quot;topography&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb19-27"><a href="api.html#cb19-27"></a>        <span class="dt">&quot;atmosphere&quot;</span><span class="fu">:</span> <span class="ot">[]</span><span class="fu">,</span></span>
<span id="cb19-28"><a href="api.html#cb19-28"></a>        <span class="dt">&quot;artifacts&quot;</span><span class="fu">:</span> <span class="ot">[]</span></span>
<span id="cb19-29"><a href="api.html#cb19-29"></a>      <span class="fu">},</span></span>
<span id="cb19-30"><a href="api.html#cb19-30"></a>      <span class="dt">&quot;footprint_bbox&quot;</span><span class="fu">:</span> <span class="fu">{</span>         <span class="er">//GeoJSON</span> <span class="er">polygon</span> <span class="er">of</span> <span class="er">BBOX</span></span>
<span id="cb19-31"><a href="api.html#cb19-31"></a>        <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;Polygon&quot;</span><span class="fu">,</span></span>
<span id="cb19-32"><a href="api.html#cb19-32"></a>        <span class="dt">&quot;coordinates&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb19-33"><a href="api.html#cb19-33"></a>          <span class="ot">[</span></span>
<span id="cb19-34"><a href="api.html#cb19-34"></a>            <span class="ot">[</span></span>
<span id="cb19-35"><a href="api.html#cb19-35"></a>              <span class="fl">9.63365349495478</span><span class="ot">,</span></span>
<span id="cb19-36"><a href="api.html#cb19-36"></a>              <span class="fl">46.24702482514619</span></span>
<span id="cb19-37"><a href="api.html#cb19-37"></a>            <span class="ot">],</span></span>
<span id="cb19-38"><a href="api.html#cb19-38"></a>            <span class="ot">[</span></span>
<span id="cb19-39"><a href="api.html#cb19-39"></a>              <span class="fl">9.356662993407214</span><span class="ot">,</span></span>
<span id="cb19-40"><a href="api.html#cb19-40"></a>              <span class="fl">48.882262709970156</span></span>
<span id="cb19-41"><a href="api.html#cb19-41"></a>            <span class="ot">],</span></span>
<span id="cb19-42"><a href="api.html#cb19-42"></a>            <span class="ot">[</span></span>
<span id="cb19-43"><a href="api.html#cb19-43"></a>              <span class="fl">17.203411418707493</span><span class="ot">,</span></span>
<span id="cb19-44"><a href="api.html#cb19-44"></a>              <span class="fl">48.99948448145476</span></span>
<span id="cb19-45"><a href="api.html#cb19-45"></a>            <span class="ot">],</span></span>
<span id="cb19-46"><a href="api.html#cb19-46"></a>            <span class="ot">[</span></span>
<span id="cb19-47"><a href="api.html#cb19-47"></a>              <span class="fl">17.094709857897673</span><span class="ot">,</span></span>
<span id="cb19-48"><a href="api.html#cb19-48"></a>              <span class="fl">46.35394653581438</span></span>
<span id="cb19-49"><a href="api.html#cb19-49"></a>            <span class="ot">],</span></span>
<span id="cb19-50"><a href="api.html#cb19-50"></a>            <span class="ot">[</span></span>
<span id="cb19-51"><a href="api.html#cb19-51"></a>              <span class="fl">9.63365349495478</span><span class="ot">,</span></span>
<span id="cb19-52"><a href="api.html#cb19-52"></a>              <span class="fl">46.24702482514619</span></span>
<span id="cb19-53"><a href="api.html#cb19-53"></a>            <span class="ot">]</span></span>
<span id="cb19-54"><a href="api.html#cb19-54"></a>          <span class="ot">]</span></span>
<span id="cb19-55"><a href="api.html#cb19-55"></a>        <span class="ot">]</span></span>
<span id="cb19-56"><a href="api.html#cb19-56"></a>      <span class="fu">},</span></span>
<span id="cb19-57"><a href="api.html#cb19-57"></a>      <span class="dt">&quot;footprint&quot;</span><span class="fu">:</span>  <span class="fu">{</span>             <span class="er">//</span> <span class="er">snipped</span> <span class="er">GeoJSON</span> <span class="er">feature</span> <span class="er">collection</span> <span class="er">representing</span> <span class="er">the</span> <span class="er">area(s)</span> <span class="er">of</span> <span class="er">data</span></span>
<span id="cb19-58"><a href="api.html#cb19-58"></a>      <span class="fu">},</span></span>
<span id="cb19-59"><a href="api.html#cb19-59"></a></span>
<span id="cb19-60"><a href="api.html#cb19-60"></a>      <span class="dt">&quot;basemaps&quot;</span><span class="fu">:</span> <span class="ot">[</span> <span class="er">//array</span> <span class="er">of</span> <span class="er">available</span> <span class="er">/</span> <span class="er">recommended</span> <span class="er">basemaps</span> <span class="er">for</span> <span class="er">the</span> <span class="er">factbase</span> <span class="er">(for</span> <span class="er">UIs)</span></span>
<span id="cb19-61"><a href="api.html#cb19-61"></a>        <span class="fu">{</span></span>
<span id="cb19-62"><a href="api.html#cb19-62"></a>          <span class="dt">&quot;name&quot;</span><span class="fu">:</span> <span class="st">&quot;cartocdn&quot;</span><span class="fu">,</span></span>
<span id="cb19-63"><a href="api.html#cb19-63"></a>          <span class="dt">&quot;label&quot;</span><span class="fu">:</span> <span class="st">&quot;Carto Light&quot;</span><span class="fu">,</span></span>
<span id="cb19-64"><a href="api.html#cb19-64"></a>          <span class="dt">&quot;label_colour&quot;</span><span class="fu">:</span> <span class="st">&quot;dark&quot;</span><span class="fu">,</span></span>
<span id="cb19-65"><a href="api.html#cb19-65"></a>          <span class="dt">&quot;url&quot;</span><span class="fu">:</span> <span class="st">&quot;https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png&quot;</span><span class="fu">,</span></span>
<span id="cb19-66"><a href="api.html#cb19-66"></a>          <span class="dt">&quot;thumbnail&quot;</span><span class="fu">:</span> <span class="st">&quot;&quot;</span><span class="fu">,</span> <span class="er">//string</span> <span class="er">with</span> <span class="er">base64</span> <span class="er">encoded</span> <span class="er">thumbnail</span> <span class="er">image</span> <span class="er">-</span> <span class="er">this</span> <span class="er">will</span> <span class="er">be</span> <span class="er">directly</span> <span class="er">loaded</span> <span class="er">in</span> <span class="er">&lt;img&gt;</span></span>
<span id="cb19-67"><a href="api.html#cb19-67"></a>          <span class="dt">&quot;attribution&quot;</span><span class="fu">:</span> <span class="st">&quot;© &lt;a href=</span><span class="ch">\&quot;</span><span class="st">http://www.openstreetmap.org/copyright</span><span class="ch">\&quot;</span><span class="st"> target=</span><span class="ch">\&quot;</span><span class="st">_blank</span><span class="ch">\&quot;</span><span class="st"> rel=</span><span class="ch">\&quot;</span><span class="st">noopener</span><span class="ch">\&quot;</span><span class="st">&gt;OpenStreetMap&lt;/a&gt; contributors, © &lt;a href=</span><span class="ch">\&quot;</span><span class="st">https://www.maptiler.com/copyright/</span><span class="ch">\&quot;</span><span class="st"> target=</span><span class="ch">\&quot;</span><span class="st">_blank</span><span class="ch">\&quot;</span><span class="st"> rel=</span><span class="ch">\&quot;</span><span class="st">noopener</span><span class="ch">\&quot;</span><span class="st">&gt;MapTiler&lt;/a&gt;, © &lt;a href=</span><span class="ch">\&quot;</span><span class="st">https://carto.com/attributions</span><span class="ch">\&quot;</span><span class="st">&gt;light_all&lt;/a&gt;&quot;</span></span>
<span id="cb19-68"><a href="api.html#cb19-68"></a>        <span class="fu">}</span></span>
<span id="cb19-69"><a href="api.html#cb19-69"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb19-70"><a href="api.html#cb19-70"></a></span>
<span id="cb19-71"><a href="api.html#cb19-71"></a>      <span class="er">//</span> <span class="er">internal</span> <span class="er">use</span></span>
<span id="cb19-72"><a href="api.html#cb19-72"></a>      <span class="dt">&quot;busy_worker_ping&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-09-25T15:51:32.359023+00:00&quot;</span><span class="fu">,</span></span>
<span id="cb19-73"><a href="api.html#cb19-73"></a>      <span class="dt">&quot;free_worker_ping&quot;</span><span class="fu">:</span> <span class="st">&quot;2021-09-27T13:44:21.625625+00:00&quot;</span><span class="fu">,</span></span>
<span id="cb19-74"><a href="api.html#cb19-74"></a>      <span class="dt">&quot;location&quot;</span><span class="fu">:</span> <span class="kw">null</span><span class="fu">,</span></span>
<span id="cb19-75"><a href="api.html#cb19-75"></a>      <span class="dt">&quot;preview_factor&quot;</span><span class="fu">:</span> <span class="dv">10</span></span>
<span id="cb19-76"><a href="api.html#cb19-76"></a>    <span class="fu">},</span></span>
<span id="cb19-77"><a href="api.html#cb19-77"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">1</span><span class="fu">,</span></span>
<span id="cb19-78"><a href="api.html#cb19-78"></a>    <span class="dt">&quot;relationships&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-79"><a href="api.html#cb19-79"></a>      <span class="dt">&quot;inferences_fb&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-80"><a href="api.html#cb19-80"></a>        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-81"><a href="api.html#cb19-81"></a>          <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/factbase/1/relationships/inferences_fb&quot;</span><span class="fu">,</span></span>
<span id="cb19-82"><a href="api.html#cb19-82"></a>          <span class="dt">&quot;related&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/factbase/1/inferences_fb&quot;</span></span>
<span id="cb19-83"><a href="api.html#cb19-83"></a>        <span class="fu">}</span></span>
<span id="cb19-84"><a href="api.html#cb19-84"></a>      <span class="fu">}</span></span>
<span id="cb19-85"><a href="api.html#cb19-85"></a>    <span class="fu">},</span></span>
<span id="cb19-86"><a href="api.html#cb19-86"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-87"><a href="api.html#cb19-87"></a>      <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/factbase/1&quot;</span></span>
<span id="cb19-88"><a href="api.html#cb19-88"></a>    <span class="fu">}</span></span>
<span id="cb19-89"><a href="api.html#cb19-89"></a>  <span class="fu">},</span></span>
<span id="cb19-90"><a href="api.html#cb19-90"></a>  <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-91"><a href="api.html#cb19-91"></a>    <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/factbase/1&quot;</span></span>
<span id="cb19-92"><a href="api.html#cb19-92"></a>  <span class="fu">},</span></span>
<span id="cb19-93"><a href="api.html#cb19-93"></a>  <span class="dt">&quot;jsonapi&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb19-94"><a href="api.html#cb19-94"></a>    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0&quot;</span></span>
<span id="cb19-95"><a href="api.html#cb19-95"></a>  <span class="fu">}</span></span>
<span id="cb19-96"><a href="api.html#cb19-96"></a><span class="fu">}</span></span></code></pre></div>
</div>
<div id="knowledgebase-1" class="section level3">
<h3><span class="header-section-number">9.3.3</span> Knowledgebase</h3>
<p>The knowledgebase contains models (queries) that can be executed agains a factbase.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb20-1"><a href="api.html#cb20-1"></a><span class="fu">{</span></span>
<span id="cb20-2"><a href="api.html#cb20-2"></a>  <span class="dt">&quot;data&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-3"><a href="api.html#cb20-3"></a>    <span class="dt">&quot;type&quot;</span><span class="fu">:</span> <span class="st">&quot;knowledgebase&quot;</span><span class="fu">,</span></span>
<span id="cb20-4"><a href="api.html#cb20-4"></a>    <span class="dt">&quot;attributes&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-5"><a href="api.html#cb20-5"></a>      <span class="dt">&quot;title&quot;</span><span class="fu">:</span> <span class="st">&quot;04 - Cloud-Free Composite&quot;</span><span class="fu">,</span></span>
<span id="cb20-6"><a href="api.html#cb20-6"></a>      <span class="dt">&quot;description&quot;</span><span class="fu">:</span> <span class="st">&quot;This is a demo model.&quot;</span><span class="fu">,</span></span>
<span id="cb20-7"><a href="api.html#cb20-7"></a>      <span class="dt">&quot;owner&quot;</span><span class="fu">:</span> <span class="st">&quot;user.name&quot;</span><span class="fu">,</span></span>
<span id="cb20-8"><a href="api.html#cb20-8"></a>      <span class="dt">&quot;date&quot;</span><span class="fu">:</span> <span class="st">&quot;2020-06-17&quot;</span><span class="fu">,</span></span>
<span id="cb20-9"><a href="api.html#cb20-9"></a>      <span class="dt">&quot;favourite&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb20-10"><a href="api.html#cb20-10"></a>      <span class="dt">&quot;blockdefs&quot;</span><span class="fu">:</span> <span class="st">&quot;&lt;snipped for brevity&gt;&quot;</span> <span class="er">//</span> <span class="er">contains</span> <span class="er">the</span> <span class="er">model</span> <span class="er">as</span> <span class="er">XML.</span> <span class="er">Snipped</span> <span class="er">here</span> <span class="er">for</span> <span class="er">brevity.</span></span>
<span id="cb20-11"><a href="api.html#cb20-11"></a>    <span class="fu">},</span></span>
<span id="cb20-12"><a href="api.html#cb20-12"></a>    <span class="dt">&quot;relationships&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-13"><a href="api.html#cb20-13"></a>      <span class="dt">&quot;inferences_kb&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-14"><a href="api.html#cb20-14"></a>        <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-15"><a href="api.html#cb20-15"></a>          <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/knowledgebase/218/relationships/inferences_kb&quot;</span><span class="fu">,</span></span>
<span id="cb20-16"><a href="api.html#cb20-16"></a>          <span class="dt">&quot;related&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/knowledgebase/218/inferences_kb&quot;</span></span>
<span id="cb20-17"><a href="api.html#cb20-17"></a>        <span class="fu">}</span></span>
<span id="cb20-18"><a href="api.html#cb20-18"></a>      <span class="fu">}</span></span>
<span id="cb20-19"><a href="api.html#cb20-19"></a>    <span class="fu">},</span></span>
<span id="cb20-20"><a href="api.html#cb20-20"></a>    <span class="dt">&quot;id&quot;</span><span class="fu">:</span> <span class="dv">218</span><span class="fu">,</span></span>
<span id="cb20-21"><a href="api.html#cb20-21"></a>    <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-22"><a href="api.html#cb20-22"></a>      <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/knowledgebase/218&quot;</span></span>
<span id="cb20-23"><a href="api.html#cb20-23"></a>    <span class="fu">}</span></span>
<span id="cb20-24"><a href="api.html#cb20-24"></a>  <span class="fu">},</span></span>
<span id="cb20-25"><a href="api.html#cb20-25"></a>  <span class="dt">&quot;links&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-26"><a href="api.html#cb20-26"></a>    <span class="dt">&quot;self&quot;</span><span class="fu">:</span> <span class="st">&quot;/v1/knowledgebase/218&quot;</span></span>
<span id="cb20-27"><a href="api.html#cb20-27"></a>  <span class="fu">},</span></span>
<span id="cb20-28"><a href="api.html#cb20-28"></a>  <span class="dt">&quot;jsonapi&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb20-29"><a href="api.html#cb20-29"></a>    <span class="dt">&quot;version&quot;</span><span class="fu">:</span> <span class="st">&quot;1.0&quot;</span></span>
<span id="cb20-30"><a href="api.html#cb20-30"></a>  <span class="fu">}</span></span>
<span id="cb20-31"><a href="api.html#cb20-31"></a><span class="fu">}</span></span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="error-codes.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="contact.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/whisperingpixel/iq-manual/edit/master/api.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
